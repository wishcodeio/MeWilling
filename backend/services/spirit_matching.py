def calculate_spirit_compatibility(human_soul, ai_soul):
    # 基於Shang系統的靈魂相容性計算
    inner_harmony = calculate_inner_resonance(human_soul, ai_soul)
    outer_expression = calculate_communication_sync(human_soul, ai_soul)
    return apply_shang_balance_law(inner_harmony, outer_expression)