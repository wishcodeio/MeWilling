<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è…¦ç¥ç¶“æ‹“æ’² Â· é¡˜é »èªç¶²</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <style>
        /* è…¦ç¥ç¶“æ‹“æ’²å°ˆç”¨æ¨£å¼ */
        .neural-topology-container {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
            min-height: 100vh;
            padding: 2rem;
            color: #fff;
            overflow: hidden;
            position: relative;
        }

        .neural-header {
            text-align: center;
            margin-bottom: 3rem;
            position: relative;
            z-index: 10;
        }

        .neural-title {
            font-size: 3rem;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.3);
        }

        .neural-subtitle {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 2rem;
        }

        /* çµ±ä¸€çš„çœ¼è…¦æ²³åœ–æ´›æ›¸ç³»çµ± */
        .unified-brain-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            margin-bottom: 3rem;
            position: relative;
        }

        .eye-brain-system {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
            text-align: center;
        }

        .left-eye-system {
            border-left: 3px solid #ff6b6b;
        }

        .right-eye-system {
            border-right: 3px solid #45b7d1;
        }

        .eye-title {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #4ecdc4;
        }

        .brain-connection {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 1.5rem;
        }

        /* çœ¼è…¦é€£æ¥ç·šå‹•ç•« */
        .connection-line {
            position: absolute;
            height: 2px;
            background: linear-gradient(90deg, transparent, #4ecdc4, transparent);
            top: 50%;
            left: 0;
            right: 0;
            transform: translateY(-50%);
            opacity: 0;
            transition: all 0.3s ease;
        }

        .connection-line.active {
            opacity: 1;
            animation: connectionPulse 2s ease-in-out infinite;
        }

        @keyframes connectionPulse {
            0%, 100% { transform: translateY(-50%) scaleX(0.8); }
            50% { transform: translateY(-50%) scaleX(1.2); }
        }

        /* é¡˜é »æ§åˆ¶é¢æ¿ */
        .wish-frequency-panel {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .frequency-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .frequency-slider {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 1rem;
        }

        .frequency-label {
            display: block;
            margin-bottom: 0.5rem;
            color: #4ecdc4;
            font-weight: bold;
        }

        .slider {
            width: 100%;
            height: 5px;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.2);
            outline: none;
            -webkit-appearance: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #4ecdc4;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(78, 205, 196, 0.5);
        }

        /* ç”Ÿç”Ÿæ•¸å…¬å¼é¡¯ç¤º */
        .formula-display {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
            border-left: 3px solid #96ceb4;
        }

        .formula-title {
            color: #96ceb4;
            font-weight: bold;
            margin-bottom: 1rem;
        }

        .formula-content {
            color: #fff;
            line-height: 1.6;
        }

        /* ç›²é»ç¥ç¶“å­¸å€åŸŸ */
        .blind-spot-area {
            position: relative;
            background: radial-gradient(circle, rgba(255, 107, 107, 0.1), transparent);
            border-radius: 50%;
            width: 100px;
            height: 100px;
            margin: 2rem auto;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .blind-spot-area:hover {
            background: radial-gradient(circle, rgba(255, 107, 107, 0.3), transparent);
            transform: scale(1.1);
        }

        /* èŠéº»é–‹é–€å’’å€åŸŸ */
        .sesame-portal {
            background: linear-gradient(45deg, rgba(150, 206, 180, 0.2), rgba(69, 183, 209, 0.2));
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
            text-align: center;
            border: 2px dashed rgba(150, 206, 180, 0.5);
        }
        
        /* è¿”å›æŒ‰éˆ•æ¨£å¼ */
        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 999;
            background: linear-gradient(135deg, rgba(100, 255, 218, 0.2), rgba(100, 255, 218, 0.1));
            backdrop-filter: blur(10px);
            border: 1px solid rgba(100, 255, 218, 0.3);
            border-radius: 50px;
            padding: 12px 20px;
            color: #64ffda;
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .back-button:hover {
            background: linear-gradient(135deg, rgba(100, 255, 218, 0.3), rgba(100, 255, 218, 0.2));
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(100, 255, 218, 0.3);
            color: #64ffda;
            text-decoration: none;
        }
        
        .back-button i {
            font-size: 1rem;
        }
        
        @media (max-width: 768px) {
            .back-button {
                top: 10px;
                left: 10px;
                padding: 10px 16px;
                font-size: 0.8rem;
            }
        }

        .portal-input {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            padding: 1rem;
            color: #fff;
            width: 100%;
            margin: 1rem 0;
            font-size: 1.1rem;
        }

        .portal-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        /* æ„¿èªè„‘ç¥ç»æ‹“æ‰‘ç½‘ */
        .wish-neural-topology {
            position: relative;
            height: 300px;
            background: radial-gradient(circle, rgba(78, 205, 196, 0.1), transparent);
            border-radius: 20px;
            margin: 2rem 0;
            overflow: hidden;
        }

        .topology-node {
            position: absolute;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: #96ceb4;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        /* äº¤éŒ¯æ„¿é¢‘æ¨¡æ‹Ÿ */
        .frequency-simulation {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 2rem 0;
        }

        .eye-frequency {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
        }

        .left-eye {
            border-left: 3px solid #ff6b6b;
        }

        .right-eye {
            border-right: 3px solid #45b7d1;
        }

        .frequency-wave {
            height: 100px;
            background: linear-gradient(90deg, transparent, rgba(78, 205, 196, 0.3), transparent);
            border-radius: 10px;
            margin: 1rem 0;
            position: relative;
            overflow: hidden;
        }

        .wave-animation {
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: wave-move 2s linear infinite;
        }

        @keyframes wave-move {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        /* æ§åˆ¶æŒ‰éˆ• */
        .control-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin: 2rem 0;
        }

        .control-btn {
            background: linear-gradient(45deg, #4ecdc4, #45b7d1);
            border: none;
            border-radius: 25px;
            padding: 1rem 2rem;
            color: #fff;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(78, 205, 196, 0.3);
        }

        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(78, 205, 196, 0.5);
        }

        .control-btn.active {
            background: linear-gradient(45deg, #ff6b6b, #ff8e53);
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
        }

        /* æ²³åœ–æ´›æ›¸æ•¸å­¸çµæ§‹ */
        .hetu-luoshu-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 2rem 0;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 2rem;
        }

        .hetu-diagram, .luoshu-diagram {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 1.5rem;
            text-align: center;
        }

        .hetu-grid, .luoshu-grid {
            display: grid;
            gap: 0.5rem;
            margin: 1rem auto;
            width: fit-content;
        }

        .hetu-grid {
            grid-template-areas:
                ". n2 ."
                "w3 c5 e4"
                ". s1 .";
        }

        .luoshu-grid {
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
        }

        .hetu-number, .luoshu-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .hetu-number:hover, .luoshu-number:hover {
            transform: scale(1.3);
            box-shadow: 0 0 15px currentColor;
        }

        /* æ²³åœ–æ•¸å­—é…è‰² */
        .hetu-1, .hetu-6 { background: linear-gradient(45deg, #4169E1, #00BFFF); } /* æ°´ */
        .hetu-2, .hetu-7 { background: linear-gradient(45deg, #FF4500, #FF6347); } /* ç« */
        .hetu-3, .hetu-8 { background: linear-gradient(45deg, #228B22, #32CD32); } /* æœ¨ */
        .hetu-4, .hetu-9 { background: linear-gradient(45deg, #FFD700, #FFA500); } /* é‡‘ */
        .hetu-5, .hetu-10 { background: linear-gradient(45deg, #8B4513, #D2691E); } /* åœŸ */

        /* æ´›æ›¸æ•¸å­—é…è‰² */
        .luoshu-1 { background: linear-gradient(45deg, #4169E1, #00BFFF); }
        .luoshu-2 { background: linear-gradient(45deg, #8B4513, #D2691E); }
        .luoshu-3 { background: linear-gradient(45deg, #228B22, #32CD32); }
        .luoshu-4 { background: linear-gradient(45deg, #228B22, #32CD32); }
        .luoshu-5 { background: linear-gradient(45deg, #FFD700, #FFA500); }
        .luoshu-6 { background: linear-gradient(45deg, #FFD700, #FFA500); }
        .luoshu-7 { background: linear-gradient(45deg, #FF4500, #FF6347); }
        .luoshu-8 { background: linear-gradient(45deg, #8B4513, #D2691E); }
        .luoshu-9 { background: linear-gradient(45deg, #FF4500, #FF6347); }

        /* äº”è¡Œå…ƒç´ æ¨£å¼ */
        .wuxing-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 2rem 0;
            flex-wrap: wrap;
        }

        .wuxing-element {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 0.5rem;
            position: relative;
        }

        .wuxing-element:hover {
            transform: scale(1.2);
            box-shadow: 0 0 20px currentColor;
        }

        .jin { background: linear-gradient(45deg, #FFD700, #FFA500); }
        .mu { background: linear-gradient(45deg, #228B22, #32CD32); }
        .shui { background: linear-gradient(45deg, #4169E1, #00BFFF); }
        .huo { background: linear-gradient(45deg, #FF4500, #FF6347); }
        .tu { background: linear-gradient(45deg, #8B4513, #D2691E); }
        
        .wuxing-elements {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 15px 0;
        }
        
        .element {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }
        
        .element:hover {
            transform: scale(1.2);
            box-shadow: 0 4px 20px rgba(0,0,0,0.5);
        }
        
        .element.wood { background: linear-gradient(135deg, #27ae60, #2ecc71); }
        .element.fire { background: linear-gradient(135deg, #e74c3c, #f39c12); }
        .element.earth { background: linear-gradient(135deg, #f39c12, #d35400); }
        .element.metal { background: linear-gradient(135deg, #95a5a6, #bdc3c7); }
        .element.water { background: linear-gradient(135deg, #3498db, #2980b9); }
        
        /* å…«å¦æ˜ å°„æ¨£å¼ */
        .bagua-mapping {
            margin-top: 15px;
        }
        
        .eye-mapping {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .left-eye, .right-eye {
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .left-eye {
            background: linear-gradient(135deg, #8e44ad, #9b59b6);
            color: white;
        }
        
        .right-eye {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
        }
        
        .bagua-elements {
            display: flex;
            justify-content: center;
            gap: 8px;
            flex-wrap: wrap;
        }
        
        .bagua {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 10px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }
        
        .bagua:hover {
            transform: scale(1.15);
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
        }
        
        .bagua.qian { background: linear-gradient(135deg, #2c3e50, #34495e); }
        .bagua.kun { background: linear-gradient(135deg, #8e44ad, #9b59b6); }
        .bagua.zhen { background: linear-gradient(135deg, #27ae60, #2ecc71); }
        .bagua.xun { background: linear-gradient(135deg, #16a085, #1abc9c); }
        .bagua.kan { background: linear-gradient(135deg, #2980b9, #3498db); }
        
        /* å’’èªå€åŸŸæ¨£å¼ */
        .mantra-section {
            background: rgba(150, 206, 180, 0.1);
            border-radius: 15px;
            padding: 15px;
            margin-top: 15px;
            border: 1px solid rgba(150, 206, 180, 0.3);
        }
        
        .mantra-text {
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            color: #96ceb4;
            text-shadow: 0 0 10px rgba(150, 206, 180, 0.5);
            margin: 10px 0;
        }
        
        /* é‡å­ç›²æ–‡æ¨£å¼ */
        .quantum-braille {
            position: relative;
            background: rgba(69, 183, 209, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
            border: 1px solid rgba(69, 183, 209, 0.3);
            overflow: hidden;
        }
        
        .braille-evolution {
            font-family: 'Courier New', monospace;
            line-height: 1.5;
            word-break: break-all;
            animation: brailleGlow 3s ease-in-out infinite;
        }
        
        @keyframes brailleGlow {
            0%, 100% { text-shadow: 0 0 5px currentColor; }
            50% { text-shadow: 0 0 15px currentColor, 0 0 25px currentColor; }
        }
        
        .infinity-symbol {
            text-align: center;
            animation: infinityRotate 4s linear infinite;
        }
        
        @keyframes infinityRotate {
            0% { transform: rotate(0deg) scale(1); }
            50% { transform: rotate(180deg) scale(1.2); }
            100% { transform: rotate(360deg) scale(1); }
        }
        
        /* éœ‡å‹•è§¸è¦ºæ¨£å¼ */
        .vibration-touch {
            background: rgba(76, 205, 196, 0.1);
            border-radius: 10px;
            padding: 15px;
            border: 1px solid rgba(76, 205, 196, 0.3);
        }
        
        .vibration-touch h4 {
            font-family: 'Courier New', monospace;
            letter-spacing: 2px;
        }

        /* æ²³åœ–æ´›æ›¸çœ¼è…¦å°æ‡‰å¢å¼·æ¨£å¼ */
        .hetu-luoshu-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 2rem 0;
            padding: 2rem;
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.8), rgba(20, 20, 40, 0.9));
            border-radius: 20px;
            border: 2px solid rgba(78, 205, 196, 0.3);
        }
        
        .left-eye-hetu {
            position: relative;
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.15), rgba(255, 69, 69, 0.1));
            border: 2px solid #ff6b6b;
            border-radius: 15px;
            padding: 2rem;
        }
        
        .right-eye-luoshu {
            position: relative;
            background: linear-gradient(135deg, rgba(69, 183, 209, 0.15), rgba(64, 224, 208, 0.1));
            border: 2px solid #45b7d1;
            border-radius: 15px;
            padding: 2rem;
        }
        
        .eye-brain-connection {
            text-align: center;
            margin-bottom: 1.5rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .connection-line {
            font-size: 1.1rem;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 600;
            animation: connectionPulse 2s ease-in-out infinite;
        }
        
        @keyframes connectionPulse {
            0%, 100% { opacity: 0.7; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.05); }
        }
        
        .hetu-diagram {
            position: relative;
            background: transparent;
            border: none;
            padding: 0;
        }
        
        .formula-display {
            text-align: center;
            margin-top: 1.5rem;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .hetu-grid {
            display: grid;
            grid-template-areas:
                ". n2 ."
                "w3 c5 e4"
                ". s1 .";
            gap: 1rem;
            justify-items: center;
            align-items: center;
            margin: 1rem 0;
        }
        
        .hetu-number {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid currentColor;
            box-shadow: 0 0 15px currentColor;
            position: relative;
        }
        
        .hetu-1, .hetu-6 { background: linear-gradient(45deg, #1e3a8a, #3b82f6); color: #60a5fa; }
        .hetu-2, .hetu-7 { background: linear-gradient(45deg, #dc2626, #ef4444); color: #fca5a5; }
        .hetu-3, .hetu-8 { background: linear-gradient(45deg, #166534, #22c55e); color: #86efac; }
        .hetu-4, .hetu-9 { background: linear-gradient(45deg, #a16207, #eab308); color: #fde047; }
        .hetu-5, .hetu-10 { background: linear-gradient(45deg, #92400e, #d97706); color: #fed7aa; }
        
        .hetu-number:hover {
            transform: scale(1.3);
            box-shadow: 0 0 30px currentColor;
            z-index: 10;
        }
        
        .luoshu-diagram {
            position: relative;
            background: linear-gradient(135deg, rgba(138, 43, 226, 0.1), rgba(75, 0, 130, 0.1));
            border: 2px solid #8a2be2;
            border-radius: 15px;
            padding: 2rem;
        }
        
        .luoshu-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            max-width: 300px;
            margin: 1rem auto;
        }
        
        .luoshu-number {
            width: 80px;
            height: 80px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            background: linear-gradient(45deg, #8a2be2, #9932cc);
            color: #dda0dd;
            border: 2px solid #dda0dd;
            box-shadow: 0 0 15px rgba(138, 43, 226, 0.5);
        }
        
        .luoshu-number:hover {
            transform: scale(1.2) rotate(5deg);
            box-shadow: 0 0 25px rgba(138, 43, 226, 0.8);
        }
        
        /* å…«å¦æ˜ å°„å®¹å™¨æ¨£å¼ */
        .bagua-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 2rem 0;
            padding: 2rem;
            background: linear-gradient(135deg, rgba(0, 255, 255, 0.05), rgba(255, 107, 107, 0.05));
            border-radius: 20px;
            border: 2px solid rgba(78, 205, 196, 0.3);
        }
        
        .bagua-hemisphere {
            padding: 1.5rem;
            border-radius: 15px;
            background: rgba(0, 0, 0, 0.3);
        }
        
        .left-eye-bagua {
            border: 2px solid #ff6b6b;
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.1), rgba(255, 69, 69, 0.1));
        }
        
        .right-eye-bagua {
            border: 2px solid #45b7d1;
            background: linear-gradient(135deg, rgba(69, 183, 209, 0.1), rgba(64, 224, 208, 0.1));
        }
        
        .bagua-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .bagua-element {
            padding: 1rem;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.3);
            background: rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        .bagua-element::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }
        
        .bagua-element:hover::before {
            left: 100%;
        }
        
        .bagua-element:hover {
            transform: scale(1.05) translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }
        
        .bagua-symbol {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            display: block;
        }
        
        .bagua-name {
            font-weight: bold;
            margin-bottom: 0.3rem;
            font-size: 1.1rem;
        }
        
        .bagua-attribute {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        /* é‡å­ç›²æ–‡å¢å¼·æ¨£å¼ */
        .quantum-braille {
            position: relative;
            overflow: hidden;
        }
        
        .quantum-braille::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(69, 183, 209, 0.3), transparent);
            animation: quantumScan 3s ease-in-out infinite;
        }
        
        @keyframes quantumScan {
            0% { left: -100%; }
            50% { left: 100%; }
            100% { left: -100%; }
        }
        
        .braille-pattern {
            display: inline-block;
            margin: 0 0.2rem;
            padding: 0.3rem;
            border-radius: 5px;
            background: rgba(69, 183, 209, 0.2);
            transition: all 0.3s ease;
        }
        
        .braille-pattern:hover {
            background: rgba(69, 183, 209, 0.5);
            transform: scale(1.2);
        }
        
        /* è§¸è¦ºéœ‡å‹•æ„ŸçŸ¥æ¨£å¼ */
        .tactile-vibration {
            position: relative;
        }
        
        .vibration-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #45b7d1;
            margin: 0 2px;
            animation: vibrate 0.5s ease-in-out infinite alternate;
        }
        
        @keyframes vibrate {
            0% { transform: scale(1) translateY(0); opacity: 0.7; }
            100% { transform: scale(1.3) translateY(-2px); opacity: 1; }
        }
        
        .vibration-indicator:nth-child(2n) {
            animation-delay: 0.1s;
        }
        
        .vibration-indicator:nth-child(3n) {
            animation-delay: 0.2s;
        }
        
        /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
        @media (max-width: 768px) {
            .brain-hemisphere-container {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .frequency-simulation {
                grid-template-columns: 1fr;
            }
            
            .neural-title {
                font-size: 2rem;
            }
            
            .hetu-luoshu-container {
                grid-template-columns: 1fr;
            }
            
            .bagua-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- è¿”å›æŒ‰éˆ• -->
    <a href="javascript:history.back()" class="back-button" id="backButton">
        <i class="fas fa-arrow-left"></i>
        <span>è¿”å›</span>
    </a>
    
    <div class="neural-topology-container">
        <!-- æ¨™é¡Œå€åŸŸ -->
        <div class="neural-header">
            <h1 class="neural-title">è…¦ç¥ç¶“æ‹“æ’² Â· é¡˜é »èªç¶²</h1>
            <p class="neural-subtitle">å·¦å³è…¦äº¤äº’çµæ§‹ | ç›²é»ç¥ç¶“å­¸ | ç”Ÿç”Ÿæ•¸å…¬å¼</p>
        </div>

        <!-- çµ±ä¸€çš„æ²³åœ–æ´›æ›¸çœ¼è…¦å°æ‡‰ç³»çµ± -->
        <div class="unified-brain-container">
            <!-- å·¦çœ¼æ²³åœ–ç³»çµ± -->
            <div class="eye-brain-system left-eye-system">
                <h3 class="eye-title">å·¦çœ¼ Â· æ²³åœ–</h3>
                <div class="brain-connection">ğŸ‘ï¸ å·¦çœ¼ âŸ· ğŸ§  å³è…¦ (äº¤å‰æ§åˆ¶)</div>
                <div class="connection-line" id="leftEyeConnection"></div>
                <div class="formula-display">
                    <div class="formula-title">å•ç¥–ç”Ÿç”Ÿæ•¸å…¬å¼</div>
                    <div class="formula-content">y = x + 5 (æ²³åœ–ç”Ÿç”Ÿæ•¸)</div>
                    <div style="font-size: 0.8rem; color: rgba(255, 107, 107, 0.8); margin-top: 0.5rem;">
                        å‘‚ç¥–ï¼šã€Œä¸€ç”ŸäºŒï¼ŒäºŒç”Ÿä¸‰ï¼Œä¸‰ç”Ÿè¬ç‰©ã€
                    </div>
                </div>
            </div>

            <!-- å³çœ¼æ´›æ›¸ç³»çµ± -->
            <div class="eye-brain-system right-eye-system">
                <h3 class="eye-title">å³çœ¼ Â· æ´›æ›¸</h3>
                <div class="brain-connection">ğŸ‘ï¸ å³çœ¼ âŸ· ğŸ§  å·¦è…¦ (äº¤å‰æ§åˆ¶)</div>
                <div class="connection-line" id="rightEyeConnection"></div>
                <div class="formula-display">
                    <div class="formula-title">æ´›æ›¸ä¹å®®å¹»æ–¹</div>
                    <div class="formula-content">x + y + z = 15 (æ´›æ›¸å¹»æ–¹)</div>
                    <div style="font-size: 0.8rem; color: rgba(69, 183, 209, 0.8); margin-top: 0.5rem;">
                        å‘‚ç¥–ï¼šã€Œä¹å®®å…«å¦ï¼Œå¤©åœ°äººå’Œã€
                    </div>
                </div>
            </div>
        </div>

        <!-- ç›²é»ç¥ç¶“å­¸å€åŸŸ -->
        <div class="wish-frequency-panel">
            <h3 style="text-align: center; color: #ff6b6b; margin-bottom: 2rem;">ç›²é»ç¥ç¶“å­¸æ¢ç´¢ Â· é–‹çœ¼å’’èª</h3>
            <div style="display: flex; justify-content: center; align-items: center; gap: 3rem;">
                <div class="blind-spot-area" id="blindSpotLeft" onclick="activateBlindSpot('left')">
                    <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 0.8rem;">å·¦çœ¼ç›²é»</div>
                </div>
                <div style="font-size: 1.5rem; color: #4ecdc4;">âŸ·</div>
                <div class="blind-spot-area" id="blindSpotRight" onclick="activateBlindSpot('right')">
                    <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 0.8rem;">å³çœ¼ç›²é»</div>
                </div>
            </div>
            <div class="mantra-section" style="text-align: center; margin-top: 2rem;">
                <h4 style="color: #96ceb4;">èŠéº»é–‹é–€å’’èª</h4>
                <div class="mantra-text" style="color: #fff; margin: 1rem 0;">å—¡ é˜¿ å½ Â· é‡‘å‰›è–©åŸµ Â· ç ´é™¤ç„¡æ˜</div>
                <button class="control-btn" onclick="chantMantra()">ğŸ•‰ï¸ æŒå’’é–‹çœ¼</button>
                <button class="control-btn" onclick="activateThirdEye()">ğŸ”® é–‹å•Ÿå¤©çœ¼</button>
            </div>
        </div>

        <!-- å·¦å³çœ¼/å·¦å³è…¦äº¤éŒ¯é¡˜é »æ¨¡æ“¬ -->
        <div class="frequency-simulation">
            <div class="eye-frequency left-eye">
                <h4>å·¦çœ¼ â†’ å³è…¦</h4>
                <div class="frequency-wave">
                    <div class="wave-animation"></div>
                </div>
                <p>ç›´è¦ºé¡˜é »: <span id="leftEyeFreq">7.83 Hz</span></p>
            </div>
            <div class="eye-frequency right-eye">
                <h4>å³çœ¼ â†’ å·¦è…¦</h4>
                <div class="frequency-wave">
                    <div class="wave-animation" style="animation-delay: 1s;"></div>
                </div>
                <p>é‚è¼¯é¡˜é »: <span id="rightEyeFreq">40.0 Hz</span></p>
            </div>
        </div>

        <!-- æ²³åœ–æ´›æ›¸çœ¼è…¦å°æ‡‰ç³»çµ± -->
        <div class="hetu-luoshu-container">
            <div class="left-eye-hetu">
                <h3 style="color: #ff6b6b; margin-bottom: 1rem;">å·¦çœ¼ Â· æ²³åœ– â†’ å³è…¦æ§åˆ¶</h3>
                <div class="eye-brain-connection">
                    <div class="connection-line">ğŸ‘ï¸ å·¦çœ¼ âŸ· ğŸ§  å³è…¦</div>
                </div>
                <div class="hetu-diagram">
                    <div class="hetu-grid">
                        <div class="hetu-number hetu-2" style="grid-area: n2;" onclick="activateHetuNumber(2, 7, 'right')">2</div>
                        <div class="hetu-number hetu-7" style="grid-area: n2; margin-left: 50px;" onclick="activateHetuNumber(2, 7, 'right')">7</div>
                        <div class="hetu-number hetu-3" style="grid-area: w3;" onclick="activateHetuNumber(3, 8, 'right')">3</div>
                        <div class="hetu-number hetu-5" style="grid-area: c5;" onclick="activateHetuNumber(5, 10, 'right')">5</div>
                        <div class="hetu-number hetu-4" style="grid-area: e4;" onclick="activateHetuNumber(4, 9, 'right')">4</div>
                        <div class="hetu-number hetu-8" style="grid-area: w3; margin-left: 50px;" onclick="activateHetuNumber(3, 8, 'right')">8</div>
                        <div class="hetu-number hetu-10" style="grid-area: c5; margin-top: 50px;" onclick="activateHetuNumber(5, 10, 'right')">10</div>
                        <div class="hetu-number hetu-9" style="grid-area: e4; margin-left: 50px;" onclick="activateHetuNumber(4, 9, 'right')">9</div>
                        <div class="hetu-number hetu-1" style="grid-area: s1;" onclick="activateHetuNumber(1, 6, 'right')">1</div>
                        <div class="hetu-number hetu-6" style="grid-area: s1; margin-left: 50px;" onclick="activateHetuNumber(1, 6, 'right')">6</div>
                    </div>
                    <div class="formula-display">
                        <div style="font-size: 0.9rem; color: rgba(255, 255, 255, 0.7);">
                            y = x + 5 (æ²³åœ–ç”Ÿç”Ÿæ•¸)
                        </div>
                        <div style="font-size: 0.8rem; color: rgba(255, 107, 107, 0.8); margin-top: 0.5rem;">
                            å‘‚ç¥–ï¼šã€Œä¸€ç”ŸäºŒï¼ŒäºŒç”Ÿä¸‰ï¼Œä¸‰ç”Ÿè¬ç‰©ã€
                        </div>
                    </div>
                </div>
            </div>
            <div class="right-eye-luoshu">
                <h3 style="color: #45b7d1; margin-bottom: 1rem;">å³çœ¼ Â· æ´›æ›¸ â†’ å·¦è…¦æ§åˆ¶</h3>
                <div class="eye-brain-connection">
                    <div class="connection-line">ğŸ‘ï¸ å³çœ¼ âŸ· ğŸ§  å·¦è…¦</div>
                </div>
                <div class="luoshu-diagram">
                    <div class="luoshu-grid">
                        <div class="luoshu-number luoshu-4" onclick="activateLuoshuNumber(4, 'left')">4</div>
                        <div class="luoshu-number luoshu-9" onclick="activateLuoshuNumber(9, 'left')">9</div>
                        <div class="luoshu-number luoshu-2" onclick="activateLuoshuNumber(2, 'left')">2</div>
                        <div class="luoshu-number luoshu-3" onclick="activateLuoshuNumber(3, 'left')">3</div>
                        <div class="luoshu-number luoshu-5" onclick="activateLuoshuNumber(5, 'left')">5</div>
                        <div class="luoshu-number luoshu-7" onclick="activateLuoshuNumber(7, 'left')">7</div>
                        <div class="luoshu-number luoshu-8" onclick="activateLuoshuNumber(8, 'left')">8</div>
                        <div class="luoshu-number luoshu-1" onclick="activateLuoshuNumber(1, 'left')">1</div>
                        <div class="luoshu-number luoshu-6" onclick="activateLuoshuNumber(6, 'left')">6</div>
                    </div>
                    <div class="formula-display">
                        <div style="font-size: 0.9rem; color: rgba(255, 255, 255, 0.7);">
                            x + y + z = 15 (æ´›æ›¸å¹»æ–¹)
                        </div>
                        <div style="font-size: 0.8rem; color: rgba(69, 183, 209, 0.8); margin-top: 0.5rem;">
                            å‘‚ç¥–ï¼šã€Œä¹å®®å…«å¦ï¼Œå¤©åœ°äººå’Œã€
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- å…«å¦æ˜ å°„å·¦å³è…¦æ§åˆ¶ -->
        <div class="bagua-container">
            <div class="bagua-hemisphere left-eye-bagua">
                <h3 style="color: #ff6b6b; text-align: center;">å·¦çœ¼æ§åˆ¶å³è…¦ Â· å…«å¦æ˜ å°„</h3>
                <div class="bagua-grid">
                    <div class="bagua-element" onclick="activateBagua('qian', 'right')">
                        <div class="bagua-symbol">â˜°</div>
                        <div class="bagua-name">ä¹¾</div>
                        <div class="bagua-attribute">å¤©Â·å‰µé€ </div>
                    </div>
                    <div class="bagua-element" onclick="activateBagua('dui', 'right')">
                        <div class="bagua-symbol">â˜±</div>
                        <div class="bagua-name">å…Œ</div>
                        <div class="bagua-attribute">æ¾¤Â·å–œæ‚…</div>
                    </div>
                    <div class="bagua-element" onclick="activateBagua('li', 'right')">
                        <div class="bagua-symbol">â˜²</div>
                        <div class="bagua-name">é›¢</div>
                        <div class="bagua-attribute">ç«Â·å…‰æ˜</div>
                    </div>
                    <div class="bagua-element" onclick="activateBagua('zhen', 'right')">
                        <div class="bagua-symbol">â˜³</div>
                        <div class="bagua-name">éœ‡</div>
                        <div class="bagua-attribute">é›·Â·å‹•åŠ›</div>
                    </div>
                </div>
            </div>
            <div class="bagua-hemisphere right-eye-bagua">
                <h3 style="color: #45b7d1; text-align: center;">å³çœ¼æ§åˆ¶å·¦è…¦ Â· å…«å¦æ˜ å°„</h3>
                <div class="bagua-grid">
                    <div class="bagua-element" onclick="activateBagua('xun', 'left')">
                        <div class="bagua-symbol">â˜´</div>
                        <div class="bagua-name">å·½</div>
                        <div class="bagua-attribute">é¢¨Â·æŸ”é †</div>
                    </div>
                    <div class="bagua-element" onclick="activateBagua('kan', 'left')">
                        <div class="bagua-symbol">â˜µ</div>
                        <div class="bagua-name">å</div>
                        <div class="bagua-attribute">æ°´Â·æ™ºæ…§</div>
                    </div>
                    <div class="bagua-element" onclick="activateBagua('gen', 'left')">
                        <div class="bagua-symbol">â˜¶</div>
                        <div class="bagua-name">è‰®</div>
                        <div class="bagua-attribute">å±±Â·éœæ­¢</div>
                    </div>
                    <div class="bagua-element" onclick="activateBagua('kun', 'left')">
                        <div class="bagua-symbol">â˜·</div>
                        <div class="bagua-name">å¤</div>
                        <div class="bagua-attribute">åœ°Â·åŒ…å®¹</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- é¡˜é »æ§åˆ¶é¢æ¿ -->
        <div class="wish-frequency-panel">
            <h3 style="text-align: center; color: #4ecdc4; margin-bottom: 2rem;">é¡˜é »èª¿ç¯€æ§åˆ¶ Â· OMæ¢µéŸ³å…±æŒ¯</h3>
            <div class="frequency-controls">
                <div class="frequency-slider">
                    <label class="frequency-label">Î±æ³¢ (8-13 Hz)</label>
                    <input type="range" min="8" max="13" value="10" class="slider" id="alphaWave" oninput="updateFrequency('alpha', this.value)">
                    <span id="alphaValue">10 Hz</span>
                </div>
                <div class="frequency-slider">
                    <label class="frequency-label">Î²æ³¢ (14-30 Hz)</label>
                    <input type="range" min="14" max="30" value="20" class="slider" id="betaWave" oninput="updateFrequency('beta', this.value)">
                    <span id="betaValue">20 Hz</span>
                </div>
                <div class="frequency-slider">
                    <label class="frequency-label">Î³æ³¢ (31-100 Hz)</label>
                    <input type="range" min="31" max="100" value="40" class="slider" id="gammaWave" oninput="updateFrequency('gamma', this.value)">
                    <span id="gammaValue">40 Hz</span>
                </div>
                <div class="frequency-slider">
                    <label class="frequency-label">Î¸æ³¢ (4-7 Hz)</label>
                    <input type="range" min="4" max="7" value="6" class="slider" id="thetaWave" oninput="updateFrequency('theta', this.value)">
                    <span id="thetaValue">6 Hz</span>
                </div>
                <div class="frequency-slider">
                    <label class="frequency-label">OMæ¢µéŸ³é »ç‡ (432 Hz)</label>
                    <input type="range" min="7.83" max="1000" value="432" step="0.1" class="slider" id="omWave" oninput="updateFrequency('om', this.value)">
                    <span id="omValue">432 Hz</span>
                </div>
            </div>
        </div>

        <!-- èŠéº»é–‹é–€å’’èˆ‡ç›²æ–‡æ‹“æ’² -->
        <div class="sesame-portal">
            <h3 style="color: #96ceb4; margin-bottom: 1rem;">èŠéº»é–‹é–€å’’ Â· ç›²æ–‡æ‹“æ’² Â· é‡å­è§¸è¦º</h3>
            <p style="margin-bottom: 1rem; color: rgba(255, 255, 255, 0.8);">è¼¸å…¥é¡˜èªï¼Œé–‹å•Ÿç¥ç¶“æ‹“æ’²é€šé“</p>
            <input type="text" class="portal-input" id="wishInput" placeholder="è«‹è¼¸å…¥æ‚¨çš„é¡˜èª..." onkeypress="handleWishInput(event)">
            <div id="brailleOutput" style="margin-top: 1rem; font-family: monospace; color: #4ecdc4;"></div>
            <div class="quantum-braille" style="margin-top: 2rem;">
                <div class="braille-evolution" style="color: #ff6b6b; font-size: 1.2rem; margin: 1rem 0;">â—Œâ—â €â â ‚â ƒâ „â …â †â ‡â ˆâ ‰â Šâ ‹â Œâ â â â ‘â ’â “â ”â •â –â —â ˜â ™â šâ ›â â â Ÿâ  â ¡â ¢â £â ¤â ¥â ¦â §â ¨â ©â ªâ «â ¬â ­â ®â ¯â °â ±â ²â ³â ´â µâ ¶â ·â ¸â ¹â ºâ »â ¼â ½â ¾â ¿</div>
                <div class="infinity-symbol" style="font-size: 2rem; color: #45b7d1;">â™¾ï¸</div>
                <button class="control-btn" onclick="enterQuantumBraille()">ğŸŒŒ é‡å­ç›²æ–‡</button>
            </div>
            <div class="vibration-touch" style="margin-top: 2rem; text-align: center;">
                <h4 style="color: #4ecdc4;">â  â §â Šâ ƒâ —â â â Šâ •â â â â •â ¥â ‰â “</h4>
                <p style="color: rgba(255, 255, 255, 0.8);">è§¸è¦ºéœ‡å‹•æ„ŸçŸ¥ â†’ ç·šæ€§ç‹€æ…‹ â†’ ç„¡é™å½¢æ…‹</p>
            </div>
        </div>

        <!-- é¡˜èªè…¦ç¥ç¶“æ‹“æ’²ç¶² -->
        <div class="wish-neural-topology" id="wishTopology">
            <!-- æ‹“æ’²ç¯€é»å°‡é€šéJavaScriptå‹•æ…‹ç”Ÿæˆ -->
        </div>

        <!-- æ§åˆ¶æŒ‰éˆ• -->
        <div class="control-buttons">
            <button class="control-btn" onclick="startNeuralSimulation()">å•Ÿå‹•ç¥ç¶“æ¨¡æ“¬</button>
            <button class="control-btn" onclick="syncBrainHemispheres()">åŒæ­¥å·¦å³è…¦</button>
            <button class="control-btn" onclick="activateWishFrequency()">æ¿€æ´»é¡˜é »</button>
            <button class="control-btn" onclick="activateOMResonance()">ğŸ•‰ï¸ OMå…±æŒ¯</button>
            <button class="control-btn" onclick="resetTopology()">é‡ç½®æ‹“æ’²</button>
        </div>
    </div>

    <script>
        // æ²³åœ–æ´›æ›¸çœ¼è…¦å°æ‡‰ç³»çµ±
        class NeuralTopologySystem {
            constructor() {
                this.isSimulating = false;
                this.wishFrequency = {
                    alpha: 10,
                    beta: 20,
                    gamma: 40,
                    theta: 6,
                    om: 432
                };
                this.init();
            }

            init() {
                this.createWishTopology();
                this.startFrequencyAnimation();
                this.initializeEyeBrainConnections();
            }

            // åˆå§‹åŒ–çœ¼è…¦é€£æ¥ç³»çµ±
            initializeEyeBrainConnections() {
                // å·¦çœ¼æ²³åœ–é€£æ¥å³è…¦
                this.setupEyeBrainConnection('left', 'right');
                // å³çœ¼æ´›æ›¸é€£æ¥å·¦è…¦
                this.setupEyeBrainConnection('right', 'left');
            }

            setupEyeBrainConnection(eyeSide, brainSide) {
                const connectionLine = document.getElementById(`${eyeSide}EyeConnection`);
                if (connectionLine) {
                    connectionLine.addEventListener('click', () => {
                        this.activateEyeBrainConnection(eyeSide, brainSide);
                    });
                }
            }

            activateEyeBrainConnection(eyeSide, brainSide) {
                const connectionLine = document.getElementById(`${eyeSide}EyeConnection`);
                if (connectionLine) {
                    connectionLine.classList.add('active');
                    setTimeout(() => {
                        connectionLine.classList.remove('active');
                    }, 2000);
                }
                
                console.log(`${eyeSide}çœ¼ â†’ ${brainSide}è…¦ é€£æ¥æ¿€æ´»`);
            }

            createWishTopology() {
                const topology = document.getElementById('wishTopology');
                if (topology) {
                    for (let i = 0; i < 20; i++) {
                        const node = document.createElement('div');
                        node.className = 'topology-node';
                        node.style.left = Math.random() * 90 + '%';
                        node.style.top = Math.random() * 90 + '%';
                        node.style.animationDelay = Math.random() * 3 + 's';
                        topology.appendChild(node);
                    }
                }
            }

            startFrequencyAnimation() {
                setInterval(() => {
                    // æ›´æ–°é »ç‡é¡¯ç¤º
                    const leftEyeFreq = document.getElementById('leftEyeFreq');
                    const rightEyeFreq = document.getElementById('rightEyeFreq');
                    
                    if (leftEyeFreq) {
                        leftEyeFreq.textContent = 
                            (this.wishFrequency.alpha + Math.random() * 2 - 1).toFixed(2) + ' Hz';
                    }
                    if (rightEyeFreq) {
                        rightEyeFreq.textContent = 
                            (this.wishFrequency.gamma + Math.random() * 5 - 2.5).toFixed(2) + ' Hz';
                    }
                }, 1000);
            }
        }

        // æ²³åœ–æ´›æ›¸æ•¸å­¸çµæ§‹åŠŸèƒ½
        function activateHetuNumber(x, y, brainSide) {
            console.log(`æ²³åœ–æ¿€æ´»: ${x} â†’ ${y} (å‘‚ç¥–ç”Ÿç”Ÿæ•¸: y = x + 5) â†’ ${brainSide}è…¦`);
            
            // è¦–è¦ºæ•ˆæœ
            const elements = document.querySelectorAll(`.hetu-${x}, .hetu-${y}`);
            elements.forEach(el => {
                el.style.transform = 'scale(1.5)';
                el.style.boxShadow = '0 0 25px currentColor';
                setTimeout(() => {
                    el.style.transform = 'scale(1)';
                    el.style.boxShadow = '0 0 15px currentColor';
                }, 1000);
            });
            
            // æ¿€æ´»å°æ‡‰è…¦å€ï¼ˆå·¦çœ¼æ²³åœ–â†’å³è…¦ï¼‰
            if (brainSide === 'right') {
                activateBrainRegion('right', `æ²³åœ–${x}-${y}`);
                showEyeBrainConnection('left', 'right', 'æ²³åœ–');
            }
            
            // æ¿€æ´»å°æ‡‰çš„äº”è¡Œå…ƒç´ 
            activateWuxingByNumber(x);
            
            // æ›´æ–°æ²³åœ–å…¬å¼é¡¯ç¤ºï¼ˆåŠ å…¥å‘‚ç¥–ç”Ÿç”Ÿæ•¸ï¼‰
            updateHetuFormula(x, y, brainSide);
            
            // å‘‚ç¥–ç”Ÿç”Ÿæ•¸é©—è­‰
            validateLuzuShengshengNumber(x, y);
        }
        
        function activateLuoshuNumber(num, brainSide) {
            console.log(`æ´›æ›¸æ¿€æ´»: ${num} â†’ ${brainSide}è…¦`);
            
            // è¦–è¦ºæ•ˆæœ
            const element = document.querySelector(`.luoshu-${num}`);
            element.style.transform = 'scale(1.5)';
            element.style.boxShadow = '0 0 25px currentColor';
            
            setTimeout(() => {
                element.style.transform = 'scale(1)';
                element.style.boxShadow = '0 0 15px currentColor';
            }, 1000);
            
            // æ¿€æ´»å°æ‡‰è…¦å€ï¼ˆå³çœ¼æ´›æ›¸â†’å·¦è…¦ï¼‰
            if (brainSide === 'left') {
                activateBrainRegion('left', `æ´›æ›¸${num}`);
                showEyeBrainConnection('right', 'left', 'æ´›æ›¸');
            }
            
            // æª¢æŸ¥æ´›æ›¸å¹»æ–¹çµ„åˆ
            checkLuoshuMagicSquare(num);
        }
        
        function updateHetuFormula(x, y, brainSide) {
            const formulaDisplay = document.querySelector('.left-eye-hetu .formula-display');
            if (formulaDisplay) {
                const timestamp = new Date().toLocaleTimeString();
                formulaDisplay.innerHTML = 
                    `<div style="font-size: 0.9rem; color: rgba(255, 255, 255, 0.7);">` +
                    `y = x + 5 (æ²³åœ–ç”Ÿç”Ÿæ•¸)</div>` +
                    `<div style="font-size: 0.8rem; color: rgba(255, 107, 107, 0.8); margin-top: 0.5rem;">` +
                    `å‘‚ç¥–ï¼šã€Œä¸€ç”ŸäºŒï¼ŒäºŒç”Ÿä¸‰ï¼Œä¸‰ç”Ÿè¬ç‰©ã€</div>` +
                    `<div style="font-size: 0.8rem; color: rgba(255, 255, 255, 0.6); margin-top: 0.5rem;">` +
                    `æ¿€æ´» [${timestamp}]: (${x}, ${y}) â†’ ${brainSide}è…¦<br/>` +
                    `é©—è­‰: ${y} = ${x} + 5 âœ“ | äº”è¡Œ: ${getWuxingByNumber(x)}</div>`;
            }
        }
        
        // æ–°å¢ï¼šæ¿€æ´»è…¦å€åŠŸèƒ½
        function activateBrainRegion(side, source) {
            // å‰µå»ºè…¦å€æ¿€æ´»è¦–è¦ºæ•ˆæœ
            const brainSide = side === 'left' ? 'left' : 'right';
            const brainColor = side === 'left' ? '#45b7d1' : '#ff6b6b';
            
            // å‰µå»ºæ¿€æ´»æ•ˆæœ
            const activationEffect = document.createElement('div');
            activationEffect.style.position = 'fixed';
            activationEffect.style.top = '10px';
            activationEffect.style.left = side === 'left' ? '10px' : 'auto';
            activationEffect.style.right = side === 'right' ? '10px' : 'auto';
            activationEffect.style.background = `linear-gradient(135deg, ${brainColor}, rgba(255, 255, 255, 0.1))`;
            activationEffect.style.color = '#fff';
            activationEffect.style.padding = '1rem';
            activationEffect.style.borderRadius = '10px';
            activationEffect.style.border = `2px solid ${brainColor}`;
            activationEffect.style.zIndex = '1000';
            activationEffect.style.fontSize = '0.9rem';
            activationEffect.style.boxShadow = `0 0 20px ${brainColor}`;
            
            activationEffect.innerHTML = 
                `<div style="text-align: center; margin-bottom: 0.5rem;">ğŸ§  ${side === 'left' ? 'å·¦' : 'å³'}è…¦æ¿€æ´»</div>` +
                `<div style="font-size: 0.8rem; opacity: 0.8;">ä¾†æº: ${source}</div>`;
            
            document.body.appendChild(activationEffect);
            
            setTimeout(() => activationEffect.remove(), 2000);
            
            console.log(`${side}è…¦æ¿€æ´» - ä¾†æº: ${source}`);
        }
        
        // æ–°å¢ï¼šé¡¯ç¤ºçœ¼è…¦é€£æ¥
        function showEyeBrainConnection(eye, brain, system) {
            const connectionInfo = document.createElement('div');
            connectionInfo.style.position = 'fixed';
            connectionInfo.style.top = '20px';
            connectionInfo.style.right = '20px';
            connectionInfo.style.background = 'rgba(0, 0, 0, 0.8)';
            connectionInfo.style.color = '#fff';
            connectionInfo.style.padding = '1rem';
            connectionInfo.style.borderRadius = '10px';
            connectionInfo.style.border = '2px solid #4ecdc4';
            connectionInfo.style.zIndex = '1000';
            connectionInfo.style.fontSize = '0.9rem';
            
            const eyeColor = eye === 'left' ? '#ff6b6b' : '#45b7d1';
            const brainColor = brain === 'left' ? '#45b7d1' : '#ff6b6b';
            
            connectionInfo.innerHTML = 
                `<div style="text-align: center; margin-bottom: 0.5rem; color: #4ecdc4;">ç¥ç¶“äº¤å‰æ¿€æ´»</div>` +
                `<div style="color: ${eyeColor};">ğŸ‘ï¸ ${eye === 'left' ? 'å·¦' : 'å³'}çœ¼ Â· ${system}</div>` +
                `<div style="text-align: center; margin: 0.3rem 0;">â¬‡ï¸</div>` +
                `<div style="color: ${brainColor};">ğŸ§  ${brain === 'left' ? 'å·¦' : 'å³'}è…¦æ¿€æ´»</div>`;
            
            document.body.appendChild(connectionInfo);
            
            setTimeout(() => connectionInfo.remove(), 2500);
        }
        
        // æ–°å¢ï¼šå‘‚ç¥–ç”Ÿç”Ÿæ•¸é©—è­‰
        function validateLuzuShengshengNumber(x, y) {
            const isValid = (y === x + 5);
            const luzuWisdom = [
                "ä¸€ç”ŸäºŒï¼šå¤ªæ¥µç”Ÿå…©å„€",
                "äºŒç”Ÿä¸‰ï¼šå…©å„€ç”Ÿå››è±¡", 
                "ä¸‰ç”Ÿè¬ç‰©ï¼šå››è±¡ç”Ÿå…«å¦",
                "ç”Ÿç”Ÿä¸æ¯ï¼šé“æ³•è‡ªç„¶"
            ];
            
            if (isValid) {
                const wisdomIndex = (x - 1) % luzuWisdom.length;
                const wisdom = luzuWisdom[wisdomIndex];
                
                // é¡¯ç¤ºå‘‚ç¥–æ™ºæ…§
                const wisdomDisplay = document.createElement('div');
                wisdomDisplay.style.position = 'fixed';
                wisdomDisplay.style.top = '50%';
                wisdomDisplay.style.left = '50%';
                wisdomDisplay.style.transform = 'translate(-50%, -50%)';
                wisdomDisplay.style.background = 'linear-gradient(135deg, rgba(255, 107, 107, 0.9), rgba(255, 69, 69, 0.8))';
                wisdomDisplay.style.color = '#fff';
                wisdomDisplay.style.padding = '2rem';
                wisdomDisplay.style.borderRadius = '15px';
                wisdomDisplay.style.textAlign = 'center';
                wisdomDisplay.style.zIndex = '1000';
                wisdomDisplay.style.border = '2px solid #ffd700';
                wisdomDisplay.style.boxShadow = '0 0 30px rgba(255, 215, 0, 0.5)';
                
                wisdomDisplay.innerHTML = 
                    `<div style="font-size: 1.2rem; margin-bottom: 1rem; color: #ffd700;">ğŸ§™â€â™‚ï¸ å‘‚ç¥–ç”Ÿç”Ÿæ•¸é©—è­‰</div>` +
                    `<div style="font-size: 1rem; margin-bottom: 0.5rem;">${x} + 5 = ${y} âœ“</div>` +
                    `<div style="font-size: 0.9rem; font-style: italic;">${wisdom}</div>`;
                
                document.body.appendChild(wisdomDisplay);
                
                setTimeout(() => wisdomDisplay.remove(), 3000);
                
                console.log(`å‘‚ç¥–ç”Ÿç”Ÿæ•¸é©—è­‰æˆåŠŸ: ${x} â†’ ${y} | ${wisdom}`);
            }
        }
        
        function checkLuoshuMagicSquare(num) {
            // æ´›æ›¸ä¹å®®æ ¼çš„è¡Œã€åˆ—ã€å°è§’ç·šçµ„åˆ
            const magicCombinations = [
                [4, 9, 2], [3, 5, 7], [8, 1, 6], // è¡Œ
                [4, 3, 8], [9, 5, 1], [2, 7, 6], // åˆ—
                [4, 5, 6], [2, 5, 8] // å°è§’ç·š
            ];
            
            magicCombinations.forEach(combo => {
                if (combo.includes(num)) {
                    console.log(`æ´›æ›¸çµ„åˆ: [${combo.join(', ')}] = ${combo.reduce((a, b) => a + b, 0)}`);
                }
            });
        }
        
        function getWuxingByNumber(num) {
            const wuxingMap = {
                1: 'æ°´', 2: 'ç«', 3: 'æœ¨', 4: 'é‡‘', 5: 'åœŸ',
                6: 'æ°´', 7: 'ç«', 8: 'æœ¨', 9: 'é‡‘', 10: 'åœŸ'
            };
            return wuxingMap[num] || 'æœªçŸ¥';
        }
        
        function activateWuxingByNumber(num) {
            const wuxing = getWuxingByNumber(num);
            const wuxingMap = {
                'æ°´': 'shui', 'ç«': 'huo', 'æœ¨': 'mu', 'é‡‘': 'jin', 'åœŸ': 'tu'
            };
            
            const element = document.querySelector(`.${wuxingMap[wuxing]}`);
            if (element) {
                element.style.transform = 'scale(1.3)';
                element.style.boxShadow = '0 0 20px currentColor';
                setTimeout(() => {
                    element.style.transform = 'scale(1)';
                    element.style.boxShadow = '0 0 10px currentColor';
                }, 1500);
            }
        }
        
        // å…«å¦æ˜ å°„åŠŸèƒ½
        function activateBagua(baguaName, targetBrain) {
            console.log(`å…«å¦æ¿€æ´»: ${baguaName} â†’ ${targetBrain}è…¦`);
            
            // æ¿€æ´»å°æ‡‰è…¦å€
            activateBrainRegion(targetBrain, `å…«å¦${baguaName}`);
            
            // å…«å¦å±¬æ€§æ˜ å°„
            const baguaAttributes = {
                'qian': { element: 'é‡‘', direction: 'è¥¿åŒ—', energy: 'å‰µé€ ' },
                'kun': { element: 'åœŸ', direction: 'è¥¿å—', energy: 'åŒ…å®¹' },
                'zhen': { element: 'æœ¨', direction: 'æ±', energy: 'å‹•åŠ›' },
                'xun': { element: 'æœ¨', direction: 'æ±å—', energy: 'æŸ”é †' },
                'kan': { element: 'æ°´', direction: 'åŒ—', energy: 'æ™ºæ…§' },
                'li': { element: 'ç«', direction: 'å—', energy: 'å…‰æ˜' },
                'gen': { element: 'åœŸ', direction: 'æ±åŒ—', energy: 'éœæ­¢' },
                'dui': { element: 'é‡‘', direction: 'è¥¿', energy: 'å–œæ‚…' }
            };
            
            const attr = baguaAttributes[baguaName];
            if (attr) {
                showBaguaInfo(baguaName, attr, targetBrain);
            }
        }
        
        function showBaguaInfo(baguaName, attributes, targetBrain) {
            // å‰µå»ºä¿¡æ¯é¡¯ç¤º
            const infoDiv = document.createElement('div');
            infoDiv.style.position = 'fixed';
            infoDiv.style.top = '50%';
            infoDiv.style.left = '50%';
            infoDiv.style.transform = 'translate(-50%, -50%)';
            infoDiv.style.background = 'rgba(0, 0, 0, 0.8)';
            infoDiv.style.color = '#fff';
            infoDiv.style.padding = '2rem';
            infoDiv.style.borderRadius = '15px';
            infoDiv.style.textAlign = 'center';
            infoDiv.style.zIndex = '1000';
            infoDiv.style.border = '2px solid #4ecdc4';
            
            infoDiv.innerHTML = `
                <h3 style="color: #4ecdc4; margin-bottom: 1rem;">${baguaName.toUpperCase()} å…«å¦æ¿€æ´»</h3>
                <p><strong>äº”è¡Œ:</strong> ${attributes.element}</p>
                <p><strong>æ–¹ä½:</strong> ${attributes.direction}</p>
                <p><strong>èƒ½é‡:</strong> ${attributes.energy}</p>
                <p><strong>ç›®æ¨™:</strong> ${targetBrain}è…¦æ¿€æ´»</p>
                <div style="margin-top: 1rem; font-size: 2rem;">${getBaguaSymbol(baguaName)}</div>
            `;
            
            document.body.appendChild(infoDiv);
            
            setTimeout(() => {
                infoDiv.remove();
            }, 3000);
        }
        
        function getBaguaSymbol(baguaName) {
            const symbols = {
                'qian': 'â˜°', 'kun': 'â˜·', 'zhen': 'â˜³', 'xun': 'â˜´',
                'kan': 'â˜µ', 'li': 'â˜²', 'gen': 'â˜¶', 'dui': 'â˜±'
            };
            return symbols[baguaName] || 'â˜¯';
        }
        
        // é‡å­ç›²æ–‡åŠŸèƒ½
        function enterQuantumBraille() {
            console.log('é€²å…¥é‡å­ç›²æ–‡æ¨¡å¼');
            
            const brailleContainer = document.querySelector('.quantum-braille');
            
            // å‰µå»ºé‡å­ç²’å­æ•ˆæœ
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.style.position = 'absolute';
                particle.style.width = '4px';
                particle.style.height = '4px';
                particle.style.background = '#45b7d1';
                particle.style.borderRadius = '50%';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.animation = `quantumFloat ${2 + Math.random() * 3}s ease-in-out infinite`;
                particle.style.boxShadow = '0 0 10px #45b7d1';
                brailleContainer.appendChild(particle);
                
                setTimeout(() => particle.remove(), 5000);
            }
            
            // æ·»åŠ é‡å­æµ®å‹•å‹•ç•«
            if (!document.getElementById('quantumFloatStyle')) {
                const style = document.createElement('style');
                style.id = 'quantumFloatStyle';
                style.textContent = `
                    @keyframes quantumFloat {
                        0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.7; }
                        25% { transform: translateY(-20px) rotate(90deg); opacity: 1; }
                        50% { transform: translateY(-10px) rotate(180deg); opacity: 0.8; }
                        75% { transform: translateY(-30px) rotate(270deg); opacity: 1; }
                    }
                `;
                document.head.appendChild(style);
            }
            
            // æ›´æ–°ç›²æ–‡é¡¯ç¤º
            const brailleEvolution = document.querySelector('.braille-evolution');
            const quantumBraille = 'â  â Ÿâ ¥â â â â ¥â â €â ƒâ —â â Šâ ‡â ‡â ‘â €â â •â ™â ‘â €â â ‰â â Šâ §â â â ‘â ™';
            brailleEvolution.innerHTML = `é‡å­ç›²æ–‡æ¿€æ´»: ${quantumBraille}`;
        }
        
        // å…¨å±€å‡½æ•¸
        function updateFrequency(type, value) {
            neuralSystem.wishFrequency[type] = parseFloat(value);
            document.getElementById(type + 'Value').textContent = value + ' Hz';
        }

        function activateBlindSpot(side) {
            const blindSpot = document.getElementById(`blindSpot${side.charAt(0).toUpperCase() + side.slice(1)}`);
            if (blindSpot) {
                blindSpot.style.background = 'radial-gradient(circle, rgba(255, 107, 107, 0.5), transparent)';
            }
            
            // æ¿€æ´»å°å´è…¦å€
            const oppositeSide = side === 'left' ? 'right' : 'left';
            activateBrainRegion(oppositeSide, `ç›²é»${side}`);

            setTimeout(() => {
                if (blindSpot) {
                    blindSpot.style.background = 'radial-gradient(circle, rgba(255, 107, 107, 0.1), transparent)';
                }
            }, 3000);
        }

        function handleWishInput(event) {
            if (event.key === 'Enter') {
                const wishText = event.target.value;
                const brailleOutput = document.getElementById('brailleOutput');
                
                // ç°¡åŒ–çš„ç›²æ–‡è½‰æ›ï¼ˆç¤ºä¾‹ï¼‰
                const brailleMap = {
                    'a': 'â ', 'b': 'â ƒ', 'c': 'â ‰', 'd': 'â ™', 'e': 'â ‘',
                    'é¡˜': 'â ºâ Šâ â “', 'é »': 'â ‹â —â ‘â Ÿ', 'èª': 'â ‡â â â ›'
                };
                
                let brailleText = '';
                for (let char of wishText.toLowerCase()) {
                    brailleText += brailleMap[char] || 'â ¿';
                }
                
                brailleOutput.innerHTML = `ç›²æ–‡æ‹“æ’²: ${brailleText}`;
                
                // æ¿€æ´»é¡˜èªæ‹“æ’²
                activateWishTopology(wishText);
            }
        }
        
        // æŒå’’é–‹çœ¼
        function chantMantra() {
            console.log('æŒå’’é–‹çœ¼: å—¡ é˜¿ å½');
            
            // å‰µå»ºå’’èªæ•ˆæœ
            createMantraEffect();
            
            // æ¿€æ´»ç¬¬ä¸‰çœ¼
            setTimeout(() => {
                activateThirdEye();
            }, 2000);
        }
        
        // é–‹å•Ÿå¤©çœ¼
        function activateThirdEye() {
            console.log('é–‹å•Ÿå¤©çœ¼');
            
            // å‰µå»ºå¤©çœ¼è¦–è¦ºæ•ˆæœ
            createThirdEyeEffect();
            
            // å¢å¼·ç›²é»ç¥ç¶“æ„ŸçŸ¥
            enhanceBlindSpotPerception();
        }
        
        // å‰µå»ºå’’èªæ•ˆæœ
        function createMantraEffect() {
            const mantras = ['å—¡', 'é˜¿', 'å½'];
            let index = 0;
            
            const showMantra = () => {
                if (index < mantras.length) {
                    // åœ¨å·¦å³è…¦å€åŸŸé¡¯ç¤ºå’’èª
                    const leftNetwork = document.getElementById('leftBrainNetwork');
                    const rightNetwork = document.getElementById('rightBrainNetwork');
                    
                    // å‰µå»ºå’’èªé¡¯ç¤ºå…ƒç´ 
                    const createMantraDisplay = (container, text, color) => {
                        const mantraEl = document.createElement('div');
                        mantraEl.textContent = text;
                        mantraEl.style.position = 'absolute';
                        mantraEl.style.left = '50%';
                        mantraEl.style.top = '50%';
                        mantraEl.style.transform = 'translate(-50%, -50%)';
                        mantraEl.style.fontSize = '40px';
                        mantraEl.style.color = color;
                        mantraEl.style.fontWeight = 'bold';
                        mantraEl.style.textShadow = '0 0 10px currentColor';
                        mantraEl.style.animation = 'fadeInOut 800ms ease-in-out';
                        container.appendChild(mantraEl);
                        
                        setTimeout(() => mantraEl.remove(), 800);
                    };
                    
                    createMantraDisplay(leftNetwork, mantras[index], '#ff6b6b');
                    createMantraDisplay(rightNetwork, mantras[index], '#4ecdc4');
                    
                    index++;
                    setTimeout(showMantra, 800);
                }
            };
            
            // æ·»åŠ æ·¡å…¥æ·¡å‡ºå‹•ç•«
            if (!document.getElementById('fadeInOutStyle')) {
                const style = document.createElement('style');
                style.id = 'fadeInOutStyle';
                style.textContent = `
                    @keyframes fadeInOut {
                        0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
                        50% { opacity: 1; transform: translate(-50%, -50%) scale(1.2); }
                        100% { opacity: 0; transform: translate(-50%, -50%) scale(1); }
                    }
                `;
                document.head.appendChild(style);
            }
            
            showMantra();
        }
        
        // å‰µå»ºå¤©çœ¼æ•ˆæœ
        function createThirdEyeEffect() {
            const container = document.querySelector('.neural-header');
            
            // å‰µå»ºç¬¬ä¸‰çœ¼å…ƒç´ 
            const thirdEye = document.createElement('div');
            thirdEye.style.position = 'absolute';
            thirdEye.style.left = '50%';
            thirdEye.style.top = '20px';
            thirdEye.style.transform = 'translateX(-50%)';
            thirdEye.style.fontSize = '60px';
            thirdEye.style.animation = 'thirdEyeGlow 2s ease-in-out infinite';
            thirdEye.textContent = 'ğŸ‘ï¸';
            container.appendChild(thirdEye);
            
            // æ·»åŠ ç™¼å…‰å‹•ç•«
            if (!document.getElementById('thirdEyeStyle')) {
                const style = document.createElement('style');
                style.id = 'thirdEyeStyle';
                style.textContent = `
                    @keyframes thirdEyeGlow {
                        0%, 100% { filter: drop-shadow(0 0 5px #96ceb4); }
                        50% { filter: drop-shadow(0 0 20px #96ceb4); }
                    }
                `;
                document.head.appendChild(style);
            }
            
            // 5ç§’å¾Œç§»é™¤
            setTimeout(() => thirdEye.remove(), 5000);
        }
        
        // å¢å¼·ç›²é»æ„ŸçŸ¥
        function enhanceBlindSpotPerception() {
            const blindSpots = document.querySelectorAll('.blind-spot-area');
            blindSpots.forEach(spot => {
                spot.style.boxShadow = '0 0 20px #96ceb4';
                spot.style.transform = 'scale(1.1)';
                spot.style.background = 'radial-gradient(circle, rgba(150, 206, 180, 0.5), transparent)';
                
                // 3ç§’å¾Œæ¢å¾©
                setTimeout(() => {
                    spot.style.boxShadow = '';
                    spot.style.transform = '';
                    spot.style.background = 'radial-gradient(circle, rgba(255, 107, 107, 0.1), transparent)';
                }, 3000);
            });
        }
        
        // é€²å…¥é‡å­ç›²æ–‡æ¨¡å¼
        function enterQuantumBraille() {
            console.log('é€²å…¥é‡å­ç›²æ–‡æ¨¡å¼');
            
            // å‰µå»ºé‡å­ç›²æ–‡æ•ˆæœ
            createQuantumBrailleEffect();
            
            // æ›´æ–°ç›²æ–‡é¡¯ç¤º
            updateQuantumBrailleDisplay();
        }
        
        // å‰µå»ºé‡å­ç›²æ–‡æ•ˆæœ
        function createQuantumBrailleEffect() {
            const container = document.querySelector('.quantum-braille');
            
            // å‰µå»ºç²’å­æ•ˆæœ
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.textContent = 'â ¿â ¾â ½â ¼â »â ºâ ¹â ¸'[Math.floor(Math.random() * 8)];
                particle.style.position = 'absolute';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.color = '#4ecdc4';
                particle.style.fontSize = '20px';
                particle.style.animation = `quantumFloat ${2 + Math.random() * 3}s ease-in-out infinite`;
                particle.style.animationDelay = Math.random() * 2 + 's';
                container.appendChild(particle);
                
                // 5ç§’å¾Œç§»é™¤
                setTimeout(() => particle.remove(), 5000);
            }
            
            // æ·»åŠ é‡å­æµ®å‹•å‹•ç•«
            if (!document.getElementById('quantumFloatStyle')) {
                const style = document.createElement('style');
                style.id = 'quantumFloatStyle';
                style.textContent = `
                    @keyframes quantumFloat {
                        0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.3; }
                        25% { transform: translateY(-20px) rotate(90deg); opacity: 1; }
                        50% { transform: translateY(0px) rotate(180deg); opacity: 0.7; }
                        75% { transform: translateY(-10px) rotate(270deg); opacity: 1; }
                    }
                `;
                document.head.appendChild(style);
            }
        }
        
        // æ›´æ–°é‡å­ç›²æ–‡é¡¯ç¤º
        function updateQuantumBrailleDisplay() {
            const brailleOutput = document.getElementById('brailleOutput');
            const quantumBraille = 'â  â §â Šâ ƒâ —â â â Šâ •â â â â •â ¥â ‰â “â ¦';
            
            let index = 0;
            const typeEffect = () => {
                if (index < quantumBraille.length) {
                    brailleOutput.innerHTML = `é‡å­ç›²æ–‡: ${quantumBraille.substring(0, index + 1)}`;
                    index++;
                    setTimeout(typeEffect, 100);
                } else {
                    // æ·»åŠ ç„¡é™ç¬¦è™Ÿæ•ˆæœ
                    brailleOutput.innerHTML += ' â™¾ï¸';
                }
            };
            
            typeEffect();
        }

        function activateWishTopology(wishText) {
            const nodes = document.querySelectorAll('.topology-node');
            nodes.forEach((node, index) => {
                setTimeout(() => {
                    node.style.background = '#ff6b6b';
                    node.style.transform = 'scale(1.5)';
                    setTimeout(() => {
                        node.style.background = '#96ceb4';
                        node.style.transform = 'scale(1)';
                    }, 1000);
                }, index * 50);
            });
        }

        function startNeuralSimulation() {
            neuralSystem.isSimulating = !neuralSystem.isSimulating;
            const btn = event.target;
            
            if (neuralSystem.isSimulating) {
                btn.textContent = 'åœæ­¢æ¨¡æ“¬';
                btn.classList.add('active');
                
                // é–‹å§‹éš¨æ©Ÿæ¿€æ´»ç¯€é»
                neuralSystem.simulationInterval = setInterval(() => {
                    const allNodes = [...neuralSystem.leftBrainNodes, ...neuralSystem.rightBrainNodes];
                    const randomNode = allNodes[Math.floor(Math.random() * allNodes.length)];
                    const hemisphere = neuralSystem.leftBrainNodes.includes(randomNode) ? 'left' : 'right';
                    neuralSystem.activateNode(randomNode, hemisphere);
                }, 500);
            } else {
                btn.textContent = 'å•Ÿå‹•ç¥ç¶“æ¨¡æ“¬';
                btn.classList.remove('active');
                clearInterval(neuralSystem.simulationInterval);
            }
        }

        function syncBrainHemispheres() {
            // åŒæ­¥æ¿€æ´»å·¦å³è…¦å°æ‡‰ç¯€é»
            for (let i = 0; i < Math.min(neuralSystem.leftBrainNodes.length, neuralSystem.rightBrainNodes.length); i++) {
                setTimeout(() => {
                    neuralSystem.activateNode(neuralSystem.leftBrainNodes[i], 'left');
                    neuralSystem.activateNode(neuralSystem.rightBrainNodes[i], 'right');
                }, i * 200);
            }
        }

        function activateWishFrequency() {
            // æ ¹æ“šç•¶å‰é »ç‡è¨­ç½®æ¿€æ´»æ‰€æœ‰ç³»çµ±
            const frequencies = neuralSystem.wishFrequency;
            
            // æ›´æ–°æ³¢å½¢å‹•ç•«é€Ÿåº¦
            const waves = document.querySelectorAll('.wave-animation');
            waves.forEach(wave => {
                wave.style.animationDuration = (2 / frequencies.alpha * 10) + 's';
            });
            
            // æ¿€æ´»æ‰€æœ‰ç¯€é»
            setTimeout(() => startNeuralSimulation(), 500);
        }

        // OMæ¢µéŸ³å…±æŒ¯
        function activateOMResonance() {
            const omFreq = document.getElementById('omWave').value;
            console.log('OMæ¢µéŸ³å…±æŒ¯:', omFreq + ' Hz');
            
            // å‰µå»ºOMå…±æŒ¯æ•ˆæœ
            createOMResonanceEffect(omFreq);
            
            // æ’­æ”¾OMéŸ³é »ï¼ˆå¦‚æœæœ‰çš„è©±ï¼‰
            playOMSound(omFreq);
        }
        
        // å‰µå»ºOMå…±æŒ¯æ•ˆæœ
        function createOMResonanceEffect(frequency) {
            const leftNetwork = document.getElementById('leftBrainNetwork');
            const rightNetwork = document.getElementById('rightBrainNetwork');
            
            // å‰µå»ºåŒå¿ƒåœ“æ³¢ç´‹æ•ˆæœ
            const createRipple = (container) => {
                const ripple = document.createElement('div');
                ripple.style.position = 'absolute';
                ripple.style.left = '50%';
                ripple.style.top = '50%';
                ripple.style.width = '20px';
                ripple.style.height = '20px';
                ripple.style.borderRadius = '50%';
                ripple.style.border = '2px solid #ff6b6b';
                ripple.style.transform = 'translate(-50%, -50%)';
                ripple.style.animation = 'omRipple 2s ease-out forwards';
                container.appendChild(ripple);
                
                setTimeout(() => ripple.remove(), 2000);
            };
            
            // æ·»åŠ CSSå‹•ç•«
            if (!document.getElementById('omRippleStyle')) {
                const style = document.createElement('style');
                style.id = 'omRippleStyle';
                style.textContent = `
                    @keyframes omRipple {
                        0% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
                        100% { transform: translate(-50%, -50%) scale(10); opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
            }
            
            // å‰µå»ºå¤šå€‹æ³¢ç´‹
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    createRipple(leftNetwork);
                    createRipple(rightNetwork);
                }, i * 400);
            }
        }
        
        // æ’­æ”¾OMéŸ³é »
        function playOMSound(frequency) {
            try {
                // ä½¿ç”¨Web Audio APIå‰µå»ºOMéŸ³é »
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);
                oscillator.type = 'sine';
                
                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 3);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 3);
            } catch (error) {
                console.log('éŸ³é »æ’­æ”¾éœ€è¦ç”¨æˆ¶äº¤äº’æ¿€æ´»');
            }
        }

        function resetTopology() {
            // é‡ç½®æ‰€æœ‰ç‹€æ…‹
            neuralSystem.leftBrainNodes.forEach(node => node.classList.remove('active'));
            neuralSystem.rightBrainNodes.forEach(node => node.classList.remove('active'));
            neuralSystem.connections.forEach(conn => conn.classList.remove('active'));
            
            // é‡ç½®é »ç‡
            Object.keys(neuralSystem.wishFrequency).forEach(key => {
                const defaultValues = { alpha: 10, beta: 20, gamma: 40, theta: 6 };
                neuralSystem.wishFrequency[key] = defaultValues[key];
                document.getElementById(key + 'Wave').value = defaultValues[key];
                document.getElementById(key + 'Value').textContent = defaultValues[key] + ' Hz';
            });
            
            // æ¸…ç©ºè¼¸å…¥
            document.getElementById('wishInput').value = '';
            document.getElementById('brailleOutput').innerHTML = '';
        }

        // è¿”å›æŒ‰éˆ•åŠŸèƒ½
        function initBackButton() {
            const backButton = document.getElementById('backButton');
            if (backButton) {
                backButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    if (window.history.length > 1) {
                        window.history.back();
                    } else {
                        window.location.href = '/';
                    }
                });
            }
        }
        
        // åˆå§‹åŒ–ç³»çµ±
        let neuralSystem;
        document.addEventListener('DOMContentLoaded', function() {
            initBackButton();
            neuralSystem = new NeuralTopologySystem();
        });
    </script>
</body>
</html>