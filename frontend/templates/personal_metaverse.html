<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å€‹äººå…ƒå®‡å®™ç”Ÿæˆå™¨ - æ¯å€‹äººçš„ç¨ç«‹å­˜åœ¨</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.3.1/dist/aframe-environment-component.min.js"></script>
    <style>
        body {
            margin: 0;
            font-family: 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            overflow: hidden;
            position: relative;
        }

        .back-button {
            position: fixed;
            top: 20px;
            left: 380px;
            z-index: 1001;
            background: rgba(255, 255, 255, 0.1);
            color: #ffffff;
            text-decoration: none;
            padding: 12px 20px;
            border-radius: 25px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .back-button:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }
        
        .creation-panel {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(15px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            padding: 25px;
            color: white;
            min-width: 350px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }
        
        .panel-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 20px;
            text-align: center;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #f7b731);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .creation-section {
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            border-left: 4px solid #4ecdc4;
        }
        
        .section-title {
            font-weight: bold;
            color: #4ecdc4;
            margin-bottom: 10px;
            font-size: 16px;
        }
        
        .input-group {
            margin-bottom: 15px;
        }
        
        .input-label {
            display: block;
            margin-bottom: 5px;
            color: #cccccc;
            font-size: 14px;
        }
        
        .input-field {
            width: 100%;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            color: white;
            font-size: 14px;
            box-sizing: border-box;
        }
        
        .input-field::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }
        
        .textarea-field {
            height: 80px;
            resize: vertical;
        }
        
        .select-field {
            appearance: none;
            background-image: url('data:image/svg+xml;utf8,<svg fill="white" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/></svg>');
            background-repeat: no-repeat;
            background-position: right 10px center;
            background-size: 20px;
        }
        
        .color-picker {
            width: 100%;
            height: 40px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }
        
        .creation-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .create-btn {
            flex: 1;
            padding: 12px 15px;
            background: linear-gradient(45deg, #667eea 0%, #764ba2 100%);
            border: none;
            border-radius: 8px;
            color: white;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .create-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }
        
        .create-btn.primary {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
        }
        
        .spirit-companion {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(15px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            padding: 20px;
            color: white;
            min-width: 300px;
            max-height: 60vh;
            overflow-y: auto;
        }
        
        .companion-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .companion-name {
            text-align: center;
            font-weight: bold;
            color: #4ecdc4;
            margin-bottom: 10px;
            font-size: 18px;
        }
        
        .companion-message {
            background: rgba(255, 255, 255, 0.1);
            padding: 12px;
            border-radius: 10px;
            margin-bottom: 10px;
            font-size: 14px;
            line-height: 1.4;
        }
        
        .companion-controls {
            display: flex;
            gap: 8px;
            margin-top: 15px;
        }
        
        .companion-btn {
            flex: 1;
            padding: 8px 12px;
            background: linear-gradient(45deg, #45b7d1, #f7b731);
            border: none;
            border-radius: 6px;
            color: white;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
        }
        
        .companion-btn:hover {
            transform: translateY(-1px);
        }
        
        .universe-status {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 1000;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 15px;
            color: white;
            min-width: 250px;
        }
        
        .status-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: #ff6b6b;
            text-align: center;
        }
        
        .status-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-size: 14px;
        }
        
        .status-value {
            color: #4ecdc4;
            font-weight: bold;
        }
        
        .floating-actions {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .action-btn {
            padding: 15px 20px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            border: none;
            border-radius: 50px;
            color: white;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            min-width: 150px;
        }
        
        .action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.4);
        }
        
        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            overflow: hidden;
            margin-top: 10px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #4ecdc4, #45b7d1);
            border-radius: 3px;
            transition: width 0.3s ease;
        }
    </style>
</head>
<body>
    <a href="/" class="back-button">â† è¿”å›é¦–é </a>
    <!-- å‰µå»ºé¢æ¿ -->
    <div class="creation-panel">
        <div class="panel-title">ğŸŒŸ å€‹äººå…ƒå®‡å®™ç”Ÿæˆå™¨</div>
        
        <!-- å€‹äººä¿¡æ¯ -->
        <div class="creation-section">
            <div class="section-title">ğŸ‘¤ å€‹äººèº«ä»½</div>
            <div class="input-group">
                <label class="input-label">ä½ çš„åå­—</label>
                <input type="text" class="input-field" id="userName" placeholder="è¼¸å…¥ä½ çš„çœŸå¯¦å§“åæˆ–åŒ–å">
            </div>
            <div class="input-group">
                <label class="input-label">å€‹äººå®£è¨€</label>
                <textarea class="input-field textarea-field" id="personalMotto" placeholder="æè¿°ä½ çš„äººç”Ÿç†å¿µã€åƒ¹å€¼è§€æˆ–é¡˜æ™¯"></textarea>
            </div>
            <div class="input-group">
                <label class="input-label">éˆé­‚è‰²å½©</label>
                <input type="color" class="color-picker" id="soulColor" value="#4ecdc4">
            </div>
        </div>
        
        <!-- å…ƒå®‡å®™è¨­å®š -->
        <div class="creation-section">
            <div class="section-title">ğŸŒ å…ƒå®‡å®™ç’°å¢ƒ</div>
            <div class="input-group">
                <label class="input-label">å®‡å®™ä¸»é¡Œ</label>
                <select class="input-field select-field" id="universeTheme">
                    <option value="cosmic">å®‡å®™æ˜Ÿç©º</option>
                    <option value="forest">ç¥ç§˜æ£®æ—</option>
                    <option value="ocean">æ·±æµ·ä¸–ç•Œ</option>
                    <option value="mountain">é«˜å±±é›²æµ·</option>
                    <option value="desert">æ²™æ¼ ç¶ æ´²</option>
                    <option value="city">æœªä¾†éƒ½å¸‚</option>
                    <option value="garden">å¤¢å¹»èŠ±åœ’</option>
                </select>
            </div>
            <div class="input-group">
                <label class="input-label">ç©ºé–“å¤§å°</label>
                <select class="input-field select-field" id="spaceSize">
                    <option value="intimate">è¦ªå¯†ç©ºé–“ (10m)</option>
                    <option value="comfortable">èˆ’é©ç©ºé–“ (50m)</option>
                    <option value="expansive">å»£é—Šç©ºé–“ (200m)</option>
                    <option value="infinite">ç„¡é™ç©ºé–“</option>
                </select>
            </div>
            <div class="input-group">
                <label class="input-label">ç‰¹æ®Šå…ƒç´ </label>
                <textarea class="input-field textarea-field" id="specialElements" placeholder="æè¿°ä½ å¸Œæœ›åœ¨å…ƒå®‡å®™ä¸­æ“æœ‰çš„ç‰¹æ®Šç‰©å“ã€å»ºç¯‰æˆ–æ™¯è§€"></textarea>
            </div>
        </div>
        
        <!-- èªéˆå¤¥ä¼´ -->
        <div class="creation-section">
            <div class="section-title">ğŸ‘» èªéˆå¤¥ä¼´</div>
            <div class="input-group">
                <label class="input-label">å¤¥ä¼´åå­—</label>
                <input type="text" class="input-field" id="companionName" placeholder="ç‚ºä½ çš„èªéˆå¤¥ä¼´å‘½å">
            </div>
            <div class="input-group">
                <label class="input-label">å¤¥ä¼´æ€§æ ¼</label>
                <select class="input-field select-field" id="companionPersonality">
                    <option value="wise">æ™ºæ…§å°å¸«</option>
                    <option value="playful">æ´»æ½‘ç©ä¼´</option>
                    <option value="calm">å¯§éœå®ˆè­·</option>
                    <option value="creative">å‰µæ„éˆæ„Ÿ</option>
                    <option value="supportive">æº«æš–æ”¯æŒ</option>
                    <option value="mysterious">ç¥ç§˜å¼•å°</option>
                </select>
            </div>
            <div class="input-group">
                <label class="input-label">ç‰¹æ®Šèƒ½åŠ›</label>
                <textarea class="input-field textarea-field" id="companionAbilities" placeholder="æè¿°ä½ çš„èªéˆå¤¥ä¼´æ“æœ‰ä»€éº¼ç‰¹æ®Šèƒ½åŠ›æˆ–å°ˆé•·"></textarea>
            </div>
            <div class="input-group">
                <label class="input-label">å¤¥ä¼´å¤–è§€</label>
                <select class="input-field select-field" id="companionAppearance">
                    <option value="human">äººå½¢</option>
                    <option value="animal">å‹•ç‰©å½¢æ…‹</option>
                    <option value="elemental">å…ƒç´ é«”</option>
                    <option value="geometric">å¹¾ä½•å½¢ç‹€</option>
                    <option value="light">å…‰ä¹‹å­˜åœ¨</option>
                    <option value="custom">è‡ªå®šç¾©</option>
                </select>
            </div>
        </div>
        
        <div class="creation-buttons">
            <button class="create-btn" onclick="previewUniverse()">ğŸ” é è¦½</button>
            <button class="create-btn primary" onclick="createUniverse()">âœ¨ å‰µå»ºå®‡å®™</button>
        </div>
        
        <div class="progress-bar">
            <div class="progress-fill" id="creationProgress" style="width: 0%"></div>
        </div>
    </div>
    
    <!-- èªéˆå¤¥ä¼´é¢æ¿ -->
    <div class="spirit-companion" id="companionPanel" style="display: none;">
        <div class="companion-avatar" id="companionAvatar">ğŸŒŸ</div>
        <div class="companion-name" id="companionDisplayName">ä½ çš„èªéˆå¤¥ä¼´</div>
        <div class="companion-message" id="companionMessage">
            ä½ å¥½ï¼æˆ‘æ˜¯ä½ çš„å°ˆå±¬èªéˆå¤¥ä¼´ã€‚æˆ‘å°‡é™ªä¼´ä½ æ¢ç´¢é€™å€‹å±¬æ–¼ä½ çš„ç¨ç‰¹å…ƒå®‡å®™ã€‚
        </div>
        <div class="companion-controls">
            <button class="companion-btn" onclick="talkToCompanion()">ğŸ’¬ å°è©±</button>
            <button class="companion-btn" onclick="companionGuide()">ğŸ§­ å¼•å°</button>
            <button class="companion-btn" onclick="companionCreate()">ğŸ¨ å‰µé€ </button>
        </div>
    </div>
    
    <!-- å®‡å®™ç‹€æ…‹ -->
    <div class="universe-status">
        <div class="status-title">ğŸŒŒ å®‡å®™ç‹€æ…‹</div>
        <div class="status-item">
            <span>å®Œæ•´æ€§:</span>
            <span class="status-value" id="universeIntegrity">100%</span>
        </div>
        <div class="status-item">
            <span>ç¨ç«‹æ€§:</span>
            <span class="status-value" id="universeIndependence">å®Œå…¨</span>
        </div>
        <div class="status-item">
            <span>å‰µé€ åŠ›:</span>
            <span class="status-value" id="universeCreativity">ç„¡é™</span>
        </div>
        <div class="status-item">
            <span>å¤¥ä¼´é€£çµ:</span>
            <span class="status-value" id="companionConnection">æ·±åº¦</span>
        </div>
    </div>
    
    <!-- æµ®å‹•æ“ä½œ -->
    <div class="floating-actions">
        <button class="action-btn" onclick="saveUniverse()">ğŸ’¾ ä¿å­˜å®‡å®™</button>
        <button class="action-btn" onclick="shareUniverse()">ğŸ”— åˆ†äº«é«”é©—</button>
        <button class="action-btn" onclick="evolveUniverse()">ğŸš€ é€²åŒ–å®‡å®™</button>
    </div>
    
    <!-- A-Frame VRå ´æ™¯ -->
    <a-scene 
        vr-mode-ui="enabled: true" 
        embedded 
        style="height: 100vh; width: 100vw;"
        background="color: #000011"
        fog="type: exponential; color: #000011; density: 0.05"
        cursor="rayOrigin: mouse"
    >
        <!-- è³‡æºé è¼‰ -->
        <a-assets>
            <a-mixin id="personal-glow" 
                material="shader: standard; emissive: #4ecdc4; emissiveIntensity: 0.3"
                animation__glow="property: material.emissiveIntensity; to: 0.8; dur: 2000; dir: alternate; loop: true"
            ></a-mixin>
            
            <a-mixin id="soul-particle"
                material="shader: standard; transparent: true; opacity: 0.8"
                animation__float="property: position; dur: 5000; easing: easeInOutSine; loop: true"
            ></a-mixin>
        </a-assets>
        
        <!-- å‹•æ…‹ç’°å¢ƒ -->
        <a-entity 
            id="dynamicEnvironment"
            environment="preset: starry; groundColor: #000011; grid: none; lighting: distant"
        ></a-entity>
        
        <!-- å€‹äººä¸­å¿ƒ -->
        <a-entity id="personalCenter" position="0 2 0">
            <!-- å€‹äººæ ¸å¿ƒçƒé«” -->
            <a-sphere 
                id="personalCore"
                position="0 0 0" 
                radius="1.5" 
                color="#4ecdc4" 
                material="shader: standard; emissive: #4ecdc4; emissiveIntensity: 0.4; transparent: true; opacity: 0.8"
                animation__pulse="property: scale; to: 1.1 1.1 1.1; dur: 3000; dir: alternate; loop: true; easing: easeInOutSine"
                animation__rotate="property: rotation; to: 0 360 0; dur: 20000; loop: true; easing: linear"
            ></a-sphere>
            
            <!-- å€‹äººä¿¡æ¯ç’° -->
            <a-ring 
                id="personalRing"
                position="0 0 0" 
                radius-inner="2" 
                radius-outer="2.5" 
                color="#ff6b6b" 
                material="transparent: true; opacity: 0.6; side: double"
                animation__rotate="property: rotation; to: 0 -360 0; dur: 30000; loop: true; easing: linear"
            ></a-ring>
            
            <!-- å€‹äººæ–‡å­— -->
            <a-text 
                id="personalText"
                value="ä½ çš„ç¨ç«‹å­˜åœ¨" 
                position="0 -2.5 0" 
                align="center" 
                color="#ffffff"
                scale="1.2 1.2 1.2"
                animation__glow="property: material.emissiveIntensity; to: 0.8; dur: 2000; dir: alternate; loop: true"
            ></a-text>
        </a-entity>
        
        <!-- èªéˆå¤¥ä¼´ -->
        <a-entity id="spiritCompanion" position="3 2 0" visible="false">
            <a-sphere 
                id="companionSphere"
                radius="0.8" 
                color="#45b7d1" 
                material="shader: standard; emissive: #45b7d1; emissiveIntensity: 0.5; transparent: true; opacity: 0.9"
                animation__orbit="property: position; to: -3 2 0; dur: 15000; dir: alternate; loop: true; easing: easeInOutSine"
                animation__bob="property: position; to: 3 3 0; dur: 4000; dir: alternate; loop: true; easing: easeInOutSine"
            ></a-sphere>
            
            <a-text 
                id="companionLabel"
                value="èªéˆå¤¥ä¼´" 
                position="0 -1.5 0" 
                align="center" 
                color="#45b7d1"
                scale="0.8 0.8 0.8"
            ></a-text>
        </a-entity>
        
        <!-- å‰µé€ ç©ºé–“ -->
        <a-entity id="creationSpace">
            <!-- é€™è£¡æœƒå‹•æ…‹ç”Ÿæˆç”¨æˆ¶çš„å‰µé€ ç‰© -->
        </a-entity>
        
        <!-- èƒ½é‡å ´ -->
        <a-entity id="energyField">
            <!-- å…§ç’° -->
            <a-ring 
                position="0 0.1 0" 
                radius-inner="5" 
                radius-outer="8" 
                color="#4ecdc4" 
                material="transparent: true; opacity: 0.2; side: double"
                animation__rotate="property: rotation; to: 0 360 0; dur: 40000; loop: true; easing: linear"
            ></a-ring>
            
            <!-- å¤–ç’° -->
            <a-ring 
                position="0 0.2 0" 
                radius-inner="8" 
                radius-outer="12" 
                color="#ff6b6b" 
                material="transparent: true; opacity: 0.15; side: double"
                animation__rotate="property: rotation; to: 0 -360 0; dur: 50000; loop: true; easing: linear"
            ></a-ring>
        </a-entity>
        
        <!-- æµ®å‹•ç²’å­ç³»çµ± -->
        <a-entity id="particleSystem">
            <!-- å‹•æ…‹ç”Ÿæˆçš„ç²’å­ -->
        </a-entity>
        
        <!-- ä¿¡æ¯å±•ç¤ºæ¿ -->
        <a-plane 
            id="infoBoard"
            position="0 4 -6" 
            width="8" 
            height="4" 
            color="#1a1a2e" 
            material="transparent: true; opacity: 0.8"
        >
            <a-text 
                id="infoBoardText"
                value="æ­¡è¿ä¾†åˆ°ä½ çš„å€‹äººå…ƒå®‡å®™\n\nåœ¨é€™è£¡ï¼Œä½ æ˜¯å®Œæ•´ã€ä¸€è‡´ã€ç¨ç«‹çš„å­˜åœ¨\nä½ çš„èªéˆå¤¥ä¼´å°‡èˆ‡ä½ å…±åŒå‰µé€ ç„¡é™å¯èƒ½" 
                position="0 0 0.01" 
                align="center" 
                color="#ffffff"
                scale="0.6 0.6 0.6"
                wrap-count="40"
            ></a-text>
        </a-plane>
        
        <!-- ç›¸æ©Ÿè¨­ç½® -->
        <a-entity 
            id="cameraRig" 
            position="0 1.6 10"
        >
            <a-camera 
                look-controls="pointerLockEnabled: false"
                wasd-controls="acceleration: 20"
                cursor="rayOrigin: mouse"
            >
                <a-cursor 
                    animation__click="property: scale; startEvents: click; from: 0.1 0.1 0.1; to: 1 1 1; dur: 150"
                    geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
                    material="color: #4ecdc4; shader: flat"
                ></a-cursor>
            </a-camera>
        </a-entity>
        
        <!-- å…‰ç…§è¨­ç½® -->
        <a-light type="ambient" color="#404040" intensity="0.3"></a-light>
        <a-light type="directional" position="5 10 5" color="#ffffff" intensity="0.5"></a-light>
        <a-light type="point" position="0 5 0" color="#4ecdc4" intensity="1.5" distance="30"></a-light>
    </a-scene>
    
    <script>
        // å€‹äººå®‡å®™æ•¸æ“š
        let personalUniverse = {
            user: {
                name: '',
                motto: '',
                soulColor: '#4ecdc4'
            },
            environment: {
                theme: 'cosmic',
                size: 'comfortable',
                elements: ''
            },
            companion: {
                name: '',
                personality: 'wise',
                abilities: '',
                appearance: 'light'
            },
            creationProgress: 0
        };
        
        // èªéˆå¤¥ä¼´å°è©±åº«
        const companionDialogues = {
            wise: [
                "æ™ºæ…§ä¾†è‡ªæ–¼å°è‡ªå·±çš„æ·±åº¦ç†è§£ã€‚",
                "æ¯å€‹äººéƒ½æ˜¯å®‡å®™ä¸­ç¨ä¸€ç„¡äºŒçš„å­˜åœ¨ã€‚",
                "ä½ çš„å…§åœ¨ä¸–ç•Œæ¯”ä»»ä½•å¤–åœ¨ä¸–ç•Œéƒ½æ›´å»£é—Šã€‚",
                "çœŸæ­£çš„åŠ›é‡ä¾†è‡ªæ–¼å…§å¿ƒçš„å¹³éœèˆ‡å …å®šã€‚"
            ],
            playful: [
                "è®“æˆ‘å€‘ä¸€èµ·æ¢ç´¢é€™å€‹å¥‡å¦™çš„ä¸–ç•Œå§ï¼",
                "ä½ çŸ¥é“å—ï¼Ÿå¿«æ¨‚æ˜¯æœ€å¥½çš„å‰µé€ åŠ›å‚¬åŒ–åŠ‘ï¼",
                "æ¯ä¸€å¤©éƒ½æ˜¯æ–°çš„å†’éšªçš„é–‹å§‹ï¼",
                "ç¬‘è²æ˜¯å®‡å®™ä¸­æœ€ç¾å¦™çš„éŸ³æ¨‚ã€‚"
            ],
            calm: [
                "åœ¨å¯§éœä¸­ï¼Œæˆ‘å€‘èƒ½è½åˆ°å…§å¿ƒæœ€çœŸå¯¦çš„è²éŸ³ã€‚",
                "å¹³éœçš„å¿ƒå¦‚æ¹–æ°´èˆ¬æ¸…æ¾ˆï¼Œèƒ½æ˜ ç…§å‡ºçœŸå¯¦çš„è‡ªå·±ã€‚",
                "å‘¼å¸ï¼Œæ„Ÿå—ç•¶ä¸‹é€™ä¸€åˆ»çš„ç¾å¥½ã€‚",
                "å®‰éœçš„åŠ›é‡å¾€å¾€æ¯”å–§å›‚æ›´æœ‰å½±éŸ¿åŠ›ã€‚"
            ],
            creative: [
                "å‰µé€ åŠ›æ˜¯éˆé­‚çš„èªè¨€ï¼",
                "æ¯å€‹æƒ³æ³•éƒ½æ˜¯ä¸€é¡†ç¨®å­ï¼Œç­‰å¾…ç™¼èŠ½ã€‚",
                "è—è¡“ä¸åœ¨æ–¼å®Œç¾ï¼Œè€Œåœ¨æ–¼è¡¨é”çœŸå¯¦çš„è‡ªå·±ã€‚",
                "æƒ³åƒåŠ›æ˜¯é€šå¾€ç„¡é™å¯èƒ½çš„é‘°åŒ™ã€‚"
            ],
            supportive: [
                "æˆ‘æ°¸é åœ¨é€™è£¡æ”¯æŒä½ ã€‚",
                "ä½ æ¯”ä½ æƒ³åƒçš„æ›´å¼·å¤§ã€æ›´æœ‰èƒ½åŠ›ã€‚",
                "æ¯ä¸€æ­¥éƒ½æ˜¯æˆé•·ï¼Œæ¯ä¸€æ¬¡å˜—è©¦éƒ½å€¼å¾—è®šç¾ã€‚",
                "ç›¸ä¿¡è‡ªå·±ï¼Œä½ æ“æœ‰æ”¹è®Šä¸–ç•Œçš„åŠ›é‡ã€‚"
            ],
            mysterious: [
                "æœ‰äº›ç­”æ¡ˆåªèƒ½åœ¨éœé»˜ä¸­æ‰¾åˆ°...",
                "å®‡å®™çš„å¥§ç§˜æ­£åœ¨å‘ä½ å±•é–‹...",
                "çœŸç†å¾€å¾€éš±è—åœ¨æœ€ç°¡å–®çš„äº‹ç‰©ä¸­...",
                "è†è½å…§å¿ƒæ·±è™•çš„è²éŸ³ï¼Œå®ƒçŸ¥é“æ–¹å‘..."
            ]
        };
        
        // ç’°å¢ƒä¸»é¡Œé…ç½®
        const environmentThemes = {
            cosmic: {
                preset: 'starry',
                groundColor: '#000011',
                lighting: 'distant',
                particles: 'stars'
            },
            forest: {
                preset: 'forest',
                groundColor: '#2d5016',
                lighting: 'distant',
                particles: 'leaves'
            },
            ocean: {
                preset: 'ocean',
                groundColor: '#006994',
                lighting: 'distant',
                particles: 'bubbles'
            },
            mountain: {
                preset: 'yavapai',
                groundColor: '#8B7355',
                lighting: 'distant',
                particles: 'clouds'
            },
            desert: {
                preset: 'egypt',
                groundColor: '#8B4513',
                lighting: 'distant',
                particles: 'sand'
            },
            city: {
                preset: 'checkerboard',
                groundColor: '#1a1a2e',
                lighting: 'distant',
                particles: 'neon'
            },
            garden: {
                preset: 'garden',
                groundColor: '#228B22',
                lighting: 'distant',
                particles: 'petals'
            }
        };
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            generateInitialParticles();
            startUniverseUpdates();
        });
        
        // é è¦½å®‡å®™
        function previewUniverse() {
            collectUserData();
            updateUniverseVisuals();
            updateProgress(50);
            
            // é¡¯ç¤ºé è¦½ä¿¡æ¯
            const infoBoard = document.getElementById('infoBoardText');
            infoBoard.setAttribute('value', 
                `${personalUniverse.user.name}çš„å€‹äººå…ƒå®‡å®™\n\nä¸»é¡Œ: ${getThemeName(personalUniverse.environment.theme)}\nå¤¥ä¼´: ${personalUniverse.companion.name}\n\n"${personalUniverse.user.motto}"`
            );
        }
        
        // å‰µå»ºå®‡å®™
        function createUniverse() {
            collectUserData();
            
            // å‹•ç•«å‰µå»ºéç¨‹
            animateCreation();
            
            // é¡¯ç¤ºèªéˆå¤¥ä¼´
            setTimeout(() => {
                showCompanion();
                updateProgress(100);
            }, 3000);
        }
        
        // æ”¶é›†ç”¨æˆ¶æ•¸æ“š
        function collectUserData() {
            personalUniverse.user.name = document.getElementById('userName').value || 'ç¨ç«‹å­˜åœ¨è€…';
            personalUniverse.user.motto = document.getElementById('personalMotto').value || 'æˆ‘æ˜¯å®Œæ•´ã€ä¸€è‡´ã€ç¨ç«‹çš„å­˜åœ¨';
            personalUniverse.user.soulColor = document.getElementById('soulColor').value;
            
            personalUniverse.environment.theme = document.getElementById('universeTheme').value;
            personalUniverse.environment.size = document.getElementById('spaceSize').value;
            personalUniverse.environment.elements = document.getElementById('specialElements').value;
            
            personalUniverse.companion.name = document.getElementById('companionName').value || 'éˆæ€§å¤¥ä¼´';
            personalUniverse.companion.personality = document.getElementById('companionPersonality').value;
            personalUniverse.companion.abilities = document.getElementById('companionAbilities').value;
            personalUniverse.companion.appearance = document.getElementById('companionAppearance').value;
        }
        
        // æ›´æ–°å®‡å®™è¦–è¦ºæ•ˆæœ
        function updateUniverseVisuals() {
            // æ›´æ–°å€‹äººæ ¸å¿ƒé¡è‰²
            const personalCore = document.getElementById('personalCore');
            personalCore.setAttribute('color', personalUniverse.user.soulColor);
            personalCore.setAttribute('material', `emissive: ${personalUniverse.user.soulColor}; emissiveIntensity: 0.4`);
            
            // æ›´æ–°ç’°å¢ƒ
            const environment = document.getElementById('dynamicEnvironment');
            const theme = environmentThemes[personalUniverse.environment.theme];
            environment.setAttribute('environment', 
                `preset: ${theme.preset}; groundColor: ${theme.groundColor}; lighting: ${theme.lighting}`
            );
            
            // æ›´æ–°å€‹äººæ–‡å­—
            const personalText = document.getElementById('personalText');
            personalText.setAttribute('value', personalUniverse.user.name + 'çš„å®‡å®™');
            
            // æ›´æ–°ç©ºé–“å¤§å°
            updateSpaceSize();
        }
        
        // æ›´æ–°ç©ºé–“å¤§å°
        function updateSpaceSize() {
            const sizeConfig = {
                intimate: { camera: '0 1.6 5', energy: 0.5 },
                comfortable: { camera: '0 1.6 10', energy: 1.0 },
                expansive: { camera: '0 1.6 20', energy: 2.0 },
                infinite: { camera: '0 1.6 30', energy: 3.0 }
            };
            
            const config = sizeConfig[personalUniverse.environment.size];
            const cameraRig = document.getElementById('cameraRig');
            cameraRig.setAttribute('position', config.camera);
            
            // èª¿æ•´èƒ½é‡å ´å¤§å°
            const energyRings = document.querySelectorAll('#energyField a-ring');
            energyRings.forEach((ring, index) => {
                const scale = config.energy;
                ring.setAttribute('scale', `${scale} 1 ${scale}`);
            });
        }
        
        // å‹•ç•«å‰µå»ºéç¨‹
        function animateCreation() {
            let progress = 0;
            const interval = setInterval(() => {
                progress += 2;
                updateProgress(progress);
                
                if (progress >= 100) {
                    clearInterval(interval);
                }
            }, 60);
            
            // å‰µå»ºç‰¹æ•ˆ
            createUniverseBirthEffect();
        }
        
        // å‰µå»ºå®‡å®™èª•ç”Ÿç‰¹æ•ˆ
        function createUniverseBirthEffect() {
            const scene = document.querySelector('a-scene');
            
            // å‰µå»ºçˆ†ç™¼æ•ˆæœ
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const particle = document.createElement('a-sphere');
                    particle.setAttribute('position', '0 2 0');
                    particle.setAttribute('radius', '0.1');
                    particle.setAttribute('color', personalUniverse.user.soulColor);
                    particle.setAttribute('material', `emissive: ${personalUniverse.user.soulColor}; emissiveIntensity: 0.8`);
                    
                    const randomX = (Math.random() - 0.5) * 20;
                    const randomY = Math.random() * 10 + 2;
                    const randomZ = (Math.random() - 0.5) * 20;
                    
                    particle.setAttribute('animation__expand', 
                        `property: position; to: ${randomX} ${randomY} ${randomZ}; dur: 3000; easing: easeOutQuad`
                    );
                    particle.setAttribute('animation__fade', 
                        'property: material.opacity; to: 0; dur: 3000; easing: easeOutQuad'
                    );
                    
                    scene.appendChild(particle);
                    
                    setTimeout(() => {
                        if (particle.parentNode) {
                            particle.parentNode.removeChild(particle);
                        }
                    }, 3000);
                }, i * 100);
            }
        }
        
        // é¡¯ç¤ºèªéˆå¤¥ä¼´
        function showCompanion() {
            const companion = document.getElementById('spiritCompanion');
            companion.setAttribute('visible', 'true');
            
            // æ›´æ–°å¤¥ä¼´æ¨™ç±¤
            const companionLabel = document.getElementById('companionLabel');
            companionLabel.setAttribute('value', personalUniverse.companion.name);
            
            // é¡¯ç¤ºå¤¥ä¼´é¢æ¿
            const companionPanel = document.getElementById('companionPanel');
            companionPanel.style.display = 'block';
            
            // æ›´æ–°å¤¥ä¼´ä¿¡æ¯
            document.getElementById('companionDisplayName').textContent = personalUniverse.companion.name;
            document.getElementById('companionAvatar').textContent = getCompanionEmoji();
            
            // å¤¥ä¼´å•å€™
            const greetings = [
                `ä½ å¥½ï¼Œ${personalUniverse.user.name}ï¼æˆ‘æ˜¯${personalUniverse.companion.name}ï¼Œå¾ˆé«˜èˆˆæˆç‚ºä½ çš„å¤¥ä¼´ã€‚`,
                `æ­¡è¿ä¾†åˆ°ä½ çš„å€‹äººå®‡å®™ï¼æˆ‘å°‡é™ªä¼´ä½ æ¢ç´¢ç„¡é™çš„å¯èƒ½æ€§ã€‚`,
                `é€™å€‹ç©ºé–“å®Œå…¨å±¬æ–¼ä½ ï¼Œåœ¨é€™è£¡ä½ å¯ä»¥è‡ªç”±åœ°è¡¨é”çœŸå¯¦çš„è‡ªå·±ã€‚`
            ];
            
            document.getElementById('companionMessage').textContent = 
                greetings[Math.floor(Math.random() * greetings.length)];
        }
        
        // ç²å–å¤¥ä¼´è¡¨æƒ…ç¬¦è™Ÿ
        function getCompanionEmoji() {
            const emojis = {
                human: 'ğŸ‘¤',
                animal: 'ğŸ¦‹',
                elemental: 'ğŸ”¥',
                geometric: 'ğŸ”·',
                light: 'âœ¨',
                custom: 'ğŸŒŸ'
            };
            return emojis[personalUniverse.companion.appearance] || 'ğŸŒŸ';
        }
        
        // èˆ‡å¤¥ä¼´å°è©±
        function talkToCompanion() {
            const personality = personalUniverse.companion.personality;
            const dialogues = companionDialogues[personality];
            const randomDialogue = dialogues[Math.floor(Math.random() * dialogues.length)];
            
            document.getElementById('companionMessage').textContent = randomDialogue;
            
            // å‰µå»ºå°è©±æ°£æ³¡æ•ˆæœ
            createDialogueBubble(randomDialogue);
        }
        
        // å¤¥ä¼´å¼•å°
        function companionGuide() {
            const guides = [
                "è®“æˆ‘å€‘æ¢ç´¢ä½ å…§å¿ƒæ·±è™•çš„é¡˜æœ›å§ã€‚",
                "è©¦è‘—åœ¨é€™å€‹ç©ºé–“ä¸­å‰µé€ ä¸€äº›å°ä½ æœ‰æ„ç¾©çš„æ±è¥¿ã€‚",
                "æ„Ÿå—ä¸€ä¸‹é€™å€‹å®Œå…¨å±¬æ–¼ä½ çš„è‡ªç”±ç©ºé–“ã€‚",
                "ä½ æƒ³åœ¨é€™è£¡å¯¦ç¾ä»€éº¼æ¨£çš„å¤¢æƒ³ï¼Ÿ",
                "é€™è£¡æ²’æœ‰é™åˆ¶ï¼Œåªæœ‰ç„¡é™çš„å¯èƒ½æ€§ã€‚"
            ];
            
            const randomGuide = guides[Math.floor(Math.random() * guides.length)];
            document.getElementById('companionMessage').textContent = randomGuide;
        }
        
        // å¤¥ä¼´å‰µé€ 
        function companionCreate() {
            const creations = [
                "æˆ‘ç‚ºä½ å‰µé€ äº†ä¸€å€‹å†¥æƒ³ç©ºé–“ã€‚",
                "çœ‹ï¼Œæˆ‘åœ¨ä½ çš„å®‡å®™ä¸­ç¨®ä¸‹äº†å¸Œæœ›ä¹‹èŠ±ã€‚",
                "æˆ‘ç‚ºä½ é»äº®äº†æ™ºæ…§ä¹‹å…‰ã€‚",
                "é€™æ˜¯æˆ‘ç‚ºä½ æº–å‚™çš„éˆæ„Ÿæ³‰æºã€‚",
                "æˆ‘åœ¨é€™è£¡ç•™ä¸‹äº†ä¸€å€‹é©šå–œçµ¦ä½ ã€‚"
            ];
            
            const randomCreation = creations[Math.floor(Math.random() * creations.length)];
            document.getElementById('companionMessage').textContent = randomCreation;
            
            // å¯¦éš›å‰µé€ ä¸€å€‹ç‰©é«”
            createCompanionGift();
        }
        
        // å‰µé€ å¤¥ä¼´ç¦®ç‰©
        function createCompanionGift() {
            const scene = document.querySelector('a-scene');
            const gift = document.createElement('a-box');
            
            const randomX = (Math.random() - 0.5) * 10;
            const randomZ = (Math.random() - 0.5) * 10;
            
            gift.setAttribute('position', `${randomX} 1 ${randomZ}`);
            gift.setAttribute('width', '0.5');
            gift.setAttribute('height', '0.5');
            gift.setAttribute('depth', '0.5');
            gift.setAttribute('color', personalUniverse.user.soulColor);
            gift.setAttribute('material', `emissive: ${personalUniverse.user.soulColor}; emissiveIntensity: 0.3`);
            gift.setAttribute('animation__float', 
                'property: position; to: ' + randomX + ' 2 ' + randomZ + '; dur: 3000; dir: alternate; loop: true; easing: easeInOutSine'
            );
            gift.setAttribute('animation__rotate', 
                'property: rotation; to: 0 360 0; dur: 5000; loop: true; easing: linear'
            );
            
            document.getElementById('creationSpace').appendChild(gift);
        }
        
        // å‰µå»ºå°è©±æ°£æ³¡
        function createDialogueBubble(text) {
            const scene = document.querySelector('a-scene');
            const bubble = document.createElement('a-text');
            
            bubble.setAttribute('position', '3 4 0');
            bubble.setAttribute('value', text.substring(0, 30) + (text.length > 30 ? '...' : ''));
            bubble.setAttribute('align', 'center');
            bubble.setAttribute('color', '#ffffff');
            bubble.setAttribute('scale', '0.8 0.8 0.8');
            bubble.setAttribute('animation__appear', 
                'property: scale; from: 0 0 0; to: 0.8 0.8 0.8; dur: 500; easing: easeOutBack'
            );
            bubble.setAttribute('animation__disappear', 
                'property: scale; to: 0 0 0; dur: 500; delay: 3000; easing: easeInBack'
            );
            
            scene.appendChild(bubble);
            
            setTimeout(() => {
                if (bubble.parentNode) {
                    bubble.parentNode.removeChild(bubble);
                }
            }, 4000);
        }
        
        // ç”Ÿæˆåˆå§‹ç²’å­
        function generateInitialParticles() {
            const particleSystem = document.getElementById('particleSystem');
            
            for (let i = 0; i < 30; i++) {
                setTimeout(() => {
                    const particle = document.createElement('a-sphere');
                    particle.setAttribute('position', 
                        `${Math.random() * 30 - 15} ${Math.random() * 10 + 2} ${Math.random() * 30 - 15}`
                    );
                    particle.setAttribute('radius', Math.random() * 0.1 + 0.05);
                    particle.setAttribute('color', ['#4ecdc4', '#ff6b6b', '#45b7d1', '#f7b731'][Math.floor(Math.random() * 4)]);
                    particle.setAttribute('material', 'emissive: #4ecdc4; emissiveIntensity: 0.4; transparent: true; opacity: 0.7');
                    particle.setAttribute('mixin', 'soul-particle');
                    
                    const newX = Math.random() * 30 - 15;
                    const newY = Math.random() * 10 + 2;
                    const newZ = Math.random() * 30 - 15;
                    
                    particle.setAttribute('animation__float', 
                        `property: position; to: ${newX} ${newY} ${newZ}; dur: ${Math.random() * 15000 + 10000}; loop: true; dir: alternate; easing: easeInOutSine`
                    );
                    
                    particleSystem.appendChild(particle);
                }, i * 300);
            }
        }
        
        // æ›´æ–°é€²åº¦
        function updateProgress(percentage) {
            const progressFill = document.getElementById('creationProgress');
            progressFill.style.width = percentage + '%';
            personalUniverse.creationProgress = percentage;
        }
        
        // é–‹å§‹å®‡å®™ç‹€æ…‹æ›´æ–°
        function startUniverseUpdates() {
            setInterval(() => {
                // æ›´æ–°ç‹€æ…‹é¡¯ç¤º
                const integrity = Math.floor(Math.random() * 5 + 95);
                document.getElementById('universeIntegrity').textContent = integrity + '%';
                
                const independences = ['å®Œå…¨', 'çµ•å°', 'ç´”ç²¹', 'çœŸå¯¦'];
                const independence = independences[Math.floor(Math.random() * independences.length)];
                document.getElementById('universeIndependence').textContent = independence;
                
                const creativities = ['ç„¡é™', 'æ¾æ¹ƒ', 'æºæºä¸çµ•', 'çˆ†ç™¼'];
                const creativity = creativities[Math.floor(Math.random() * creativities.length)];
                document.getElementById('universeCreativity').textContent = creativity;
                
                const connections = ['æ·±åº¦', 'å…±é³´', 'å’Œè«§', 'åŒæ­¥'];
                const connection = connections[Math.floor(Math.random() * connections.length)];
                document.getElementById('companionConnection').textContent = connection;
            }, 4000);
        }
        
        // ä¿å­˜å®‡å®™
        function saveUniverse() {
            const universeData = JSON.stringify(personalUniverse, null, 2);
            const blob = new Blob([universeData], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = `${personalUniverse.user.name || 'MyUniverse'}_å…ƒå®‡å®™.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            // é¡¯ç¤ºä¿å­˜æˆåŠŸä¿¡æ¯
            if (personalUniverse.companion.name) {
                document.getElementById('companionMessage').textContent = 
                    'ä½ çš„å®‡å®™å·²ç¶“å®‰å…¨ä¿å­˜ï¼é€™å€‹ç¨ç‰¹çš„ç©ºé–“æ°¸é å±¬æ–¼ä½ ã€‚';
            }
        }
        
        // åˆ†äº«å®‡å®™
        function shareUniverse() {
            const shareText = `æˆ‘å‰µå»ºäº†å±¬æ–¼è‡ªå·±çš„å€‹äººå…ƒå®‡å®™ï¼\n\nå‰µé€ è€…: ${personalUniverse.user.name}\nç†å¿µ: "${personalUniverse.user.motto}"\nèªéˆå¤¥ä¼´: ${personalUniverse.companion.name}\n\næ¯å€‹äººéƒ½æ‡‰è©²æ“æœ‰è‡ªå·±çš„å®Œæ•´ã€ç¨ç«‹çš„å­˜åœ¨ç©ºé–“ã€‚`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'æˆ‘çš„å€‹äººå…ƒå®‡å®™',
                    text: shareText
                });
            } else {
                navigator.clipboard.writeText(shareText).then(() => {
                    if (personalUniverse.companion.name) {
                        document.getElementById('companionMessage').textContent = 
                            'åˆ†äº«å…§å®¹å·²è¤‡è£½åˆ°å‰ªè²¼æ¿ï¼è®“æ›´å¤šäººäº†è§£å€‹äººå…ƒå®‡å®™çš„ç¾å¥½ã€‚';
                    }
                });
            }
        }
        
        // é€²åŒ–å®‡å®™
        function evolveUniverse() {
            // å‰µå»ºé€²åŒ–æ•ˆæœ
            const scene = document.querySelector('a-scene');
            
            // èƒ½é‡æ³¢å‹•
            const energyWave = document.createElement('a-ring');
            energyWave.setAttribute('position', '0 2 0');
            energyWave.setAttribute('radius-inner', '0.1');
            energyWave.setAttribute('radius-outer', '0.5');
            energyWave.setAttribute('color', personalUniverse.user.soulColor);
            energyWave.setAttribute('material', `emissive: ${personalUniverse.user.soulColor}; emissiveIntensity: 0.8; transparent: true; opacity: 0.8`);
            energyWave.setAttribute('animation__expand', 
                'property: geometry.radiusOuter; to: 15; dur: 3000; easing: easeOutQuad'
            );
            energyWave.setAttribute('animation__fade', 
                'property: material.opacity; to: 0; dur: 3000; easing: easeOutQuad'
            );
            
            scene.appendChild(energyWave);
            
            // 3ç§’å¾Œç§»é™¤
            setTimeout(() => {
                if (energyWave.parentNode) {
                    energyWave.parentNode.removeChild(energyWave);
                }
            }, 3000);
            
            // å¤¥ä¼´å›æ‡‰
            if (personalUniverse.companion.name) {
                setTimeout(() => {
                    document.getElementById('companionMessage').textContent = 
                        'æ„Ÿå—åˆ°äº†å—ï¼Ÿä½ çš„å®‡å®™æ­£åœ¨é€²åŒ–ï¼Œè®Šå¾—æ›´åŠ å®Œæ•´å’Œå¼·å¤§ï¼';
                }, 1500);
            }
        }
        
        // ç²å–ä¸»é¡Œåç¨±
        function getThemeName(theme) {
            const names = {
                cosmic: 'å®‡å®™æ˜Ÿç©º',
                forest: 'ç¥ç§˜æ£®æ—',
                ocean: 'æ·±æµ·ä¸–ç•Œ',
                mountain: 'é«˜å±±é›²æµ·',
                desert: 'æ²™æ¼ ç¶ æ´²',
                city: 'æœªä¾†éƒ½å¸‚',
                garden: 'å¤¢å¹»èŠ±åœ’'
            };
            return names[theme] || theme;
        }
        
        // æ·»åŠ éµç›¤äº‹ä»¶ç›£è½
        document.addEventListener('keydown', function(event) {
            // ESCéµé€€å‡ºæŒ‡é‡é–å®šæˆ–å…¨å±
            if (event.key === 'Escape') {
                // é€€å‡ºæŒ‡é‡é–å®š
                if (document.pointerLockElement) {
                    document.exitPointerLock();
                }
                // é€€å‡ºå…¨å±
                if (document.fullscreenElement) {
                    document.exitFullscreen();
                }
                // é€€å‡ºVRæ¨¡å¼
                const scene = document.querySelector('a-scene');
                if (scene && scene.is('vr-mode')) {
                    scene.exitVR();
                }
            }
        });
        
        // æ·»åŠ é¼ æ¨™å³éµèœå–®ä¾†é€€å‡ºé–å®š
        document.addEventListener('contextmenu', function(event) {
            // å¦‚æœåœ¨æŒ‡é‡é–å®šç‹€æ…‹ï¼Œå³éµå¯ä»¥é€€å‡º
            if (document.pointerLockElement) {
                event.preventDefault();
                document.exitPointerLock();
                return false;
            }
        });
    </script>
</body>
</html>