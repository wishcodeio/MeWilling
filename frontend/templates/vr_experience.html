<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>ç’ƒå†¥å®‡å®™ VR é«”é©—</title>
    <meta name="description" content="ç’ƒå†¥å®‡å®™è™›æ“¬ç¾å¯¦é«”é©—">
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <script src="https://mixedreality.mozilla.org/ammo.js/builds/ammo.wasm.js"></script>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
        }
        
        .ui-overlay {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 15px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }
        
        .vr-button {
            background: linear-gradient(45deg, #667eea, #764ba2);
            border: none;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            transition: all 0.3s ease;
        }
        
        .vr-button:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .info-panel {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 15px;
            border-radius: 10px;
            max-width: 300px;
            backdrop-filter: blur(10px);
        }
    </style>
</head>
<body>
    <div class="ui-overlay">
        <h3>ğŸŒŒ ç’ƒå†¥å®‡å®™ VR æ§åˆ¶å°</h3>
        <button class="vr-button" onclick="enterVR()">é€²å…¥VRæ¨¡å¼</button>
        <button class="vr-button" onclick="resetPosition()">é‡ç½®ä½ç½®</button>
        <button class="vr-button" onclick="togglePhysics()">åˆ‡æ›ç‰©ç†</button>
        <button class="vr-button" onclick="window.location.href='/metaverse-architecture'">è¿”å›æ¶æ§‹</button>
    </div>
    
    <div class="info-panel">
        <h4>ğŸ® æ“ä½œæŒ‡å—</h4>
        <p><strong>VRæ¨¡å¼ï¼š</strong>ä½¿ç”¨VRé ­ç›”å’Œæ‰‹æŸ„</p>
        <p><strong>æ¡Œé¢æ¨¡å¼ï¼š</strong>WASDç§»å‹•ï¼Œæ»‘é¼ è½‰å‘</p>
        <p><strong>æ‰‹æ©Ÿæ¨¡å¼ï¼š</strong>è§¸æ‘¸å±å¹•ç§»å‹•è¦–è§’</p>
        <p><strong>äº’å‹•ï¼š</strong>é»æ“Šæˆ–è§¸æ‘¸ä¹éƒ¨å¸ç¯€é»</p>
    </div>
    
    <a-scene 
        vr-mode-ui="enabled: true" 
        embedded 
        style="height: 100vh; width: 100vw;"
        physics="driver: ammo; debug: false"
        background="color: #0a0a2e"
        fog="type: exponential; color: #0a0a2e; density: 0.1"
    >
        <!-- è³‡æºé è¼‰ -->
        <a-assets>
            <a-mixin id="department-node" 
                     geometry="primitive: sphere; radius: 0.5" 
                     material="shader: standard; metalness: 0.7; roughness: 0.3"
                     animation__mouseenter="property: scale; to: 1.2 1.2 1.2; startEvents: mouseenter; dur: 200"
                     animation__mouseleave="property: scale; to: 1 1 1; startEvents: mouseleave; dur: 200"
                     class="clickable"></a-mixin>
            
            <a-mixin id="orbit-ring" 
                     geometry="primitive: torus; radius: 5; radiusTubular: 0.05" 
                     material="color: #ffffff; opacity: 0.3; transparent: true"
                     animation="property: rotation; to: 0 360 0; loop: true; dur: 30000"></a-mixin>
        </a-assets>
        
        <!-- å…‰ç…§ç³»çµ± -->
        <a-light type="ambient" color="#404040" intensity="0.4"></a-light>
        <a-light type="directional" position="5 10 5" color="#ffffff" intensity="0.8" castShadow="true"></a-light>
        <a-light type="point" position="0 0 0" color="#ffd700" intensity="1.5" distance="20"></a-light>
        
        <!-- ä¸­å¤®é“å¿ƒå¸ -->
        <a-entity id="dao-core" 
                  position="0 2 0"
                  geometry="primitive: sphere; radius: 1"
                  material="color: #ffd700; shader: standard; metalness: 0.8; roughness: 0.2; emissive: #ffd700; emissiveIntensity: 0.3"
                  animation="property: rotation; to: 0 360 0; loop: true; dur: 20000"
                  physics-body="type: static"
                  class="clickable"
                  data-department="dao-core">
            <a-text value="â˜¯" position="0 0 1.1" align="center" color="#000000" scale="3 3 3"></a-text>
            
            <!-- èƒ½é‡ç²’å­æ•ˆæœ -->
            <a-entity id="particles" 
                      particle-system="preset: dust; particleCount: 1000; color: #ffd700,#ff6b6b,#4ecdc4; size: 0.1,0.5">
            </a-entity>
        </a-entity>
        
        <!-- ç¬¬ä¸€è»Œé“ - æ ¸å¿ƒå››éƒ¨å¸ -->
        <a-entity id="orbit-1" position="0 2 0">
            <a-torus mixin="orbit-ring" radius="4" color="#ff6b6b" opacity="0.2"></a-torus>
            
            <!-- å•Ÿè¨€å¸ -->
            <a-entity mixin="department-node" 
                      position="4 0 0" 
                      material="color: #ff6b6b; emissive: #ff6b6b; emissiveIntensity: 0.2"
                      class="clickable"
                      data-department="qiyan">
                <a-text value="ğŸ‰" position="0 0 0.6" align="center" color="#ffffff" scale="2 2 2"></a-text>
                <a-text value="å•Ÿè¨€å¸" position="0 -0.8 0" align="center" color="#ffffff" scale="0.8 0.8 0.8"></a-text>
            </a-entity>
            
            <!-- è¨˜è¨€å¸ -->
            <a-entity mixin="department-node" 
                      position="0 0 4" 
                      material="color: #4ecdc4; emissive: #4ecdc4; emissiveIntensity: 0.2"
                      class="clickable"
                      data-department="jiyan">
                <a-text value="ğŸ…" position="0 0 0.6" align="center" color="#ffffff" scale="2 2 2"></a-text>
                <a-text value="è¨˜è¨€å¸" position="0 -0.8 0" align="center" color="#ffffff" scale="0.8 0.8 0.8"></a-text>
            </a-entity>
            
            <!-- éˆè­˜å¸ -->
            <a-entity mixin="department-node" 
                      position="-4 0 0" 
                      material="color: #45b7d1; emissive: #45b7d1; emissiveIntensity: 0.2"
                      class="clickable"
                      data-department="lingshi">
                <a-text value="ğŸ" position="0 0 0.6" align="center" color="#ffffff" scale="2 2 2"></a-text>
                <a-text value="éˆè­˜å¸" position="0 -0.8 0" align="center" color="#ffffff" scale="0.8 0.8 0.8"></a-text>
            </a-entity>
            
            <!-- è‰™é‹å¸ -->
            <a-entity mixin="department-node" 
                      position="0 0 -4" 
                      material="color: #96ceb4; emissive: #96ceb4; emissiveIntensity: 0.2"
                      class="clickable"
                      data-department="cangyun">
                <a-text value="ğŸ˜" position="0 0 0.6" align="center" color="#ffffff" scale="2 2 2"></a-text>
                <a-text value="è‰™é‹å¸" position="0 -0.8 0" align="center" color="#ffffff" scale="0.8 0.8 0.8"></a-text>
            </a-entity>
        </a-entity>
        
        <!-- ç¬¬äºŒè»Œé“ - æ“´å±•å››éƒ¨å¸ -->
        <a-entity id="orbit-2" position="0 2 0">
            <a-torus mixin="orbit-ring" radius="7" color="#4ecdc4" opacity="0.15"></a-torus>
            
            <!-- èªç«å¸ -->
            <a-entity mixin="department-node" 
                      position="5 0 5" 
                      material="color: #feca57; emissive: #feca57; emissiveIntensity: 0.2"
                      class="clickable"
                      data-department="yuhuo">
                <a-text value="ğŸ¦…" position="0 0 0.6" align="center" color="#ffffff" scale="2 2 2"></a-text>
                <a-text value="èªç«å¸" position="0 -0.8 0" align="center" color="#ffffff" scale="0.8 0.8 0.8"></a-text>
            </a-entity>
            
            <!-- æ•™å…¸å¸ -->
            <a-entity mixin="department-node" 
                      position="-5 0 5" 
                      material="color: #ff9ff3; emissive: #ff9ff3; emissiveIntensity: 0.2"
                      class="clickable"
                      data-department="jiaodian">
                <a-text value="ğŸ¬" position="0 0 0.6" align="center" color="#ffffff" scale="2 2 2"></a-text>
                <a-text value="æ•™å…¸å¸" position="0 -0.8 0" align="center" color="#ffffff" scale="0.8 0.8 0.8"></a-text>
            </a-entity>
            
            <!-- éŒ¨å®šå¸ -->
            <a-entity mixin="department-node" 
                      position="-5 0 -5" 
                      material="color: #54a0ff; emissive: #54a0ff; emissiveIntensity: 0.2"
                      class="clickable"
                      data-department="maoding">
                <a-text value="ğŸ²" position="0 0 0.6" align="center" color="#ffffff" scale="2 2 2"></a-text>
                <a-text value="éŒ¨å®šå¸" position="0 -0.8 0" align="center" color="#ffffff" scale="0.8 0.8 0.8"></a-text>
            </a-entity>
            
            <!-- è—å…¸å¸ -->
            <a-entity mixin="department-node" 
                      position="5 0 -5" 
                      material="color: #5f27cd; emissive: #5f27cd; emissiveIntensity: 0.2"
                      class="clickable"
                      data-department="cangdian">
                <a-text value="ğŸ¦¢" position="0 0 0.6" align="center" color="#ffffff" scale="2 2 2"></a-text>
                <a-text value="è—å…¸å¸" position="0 -0.8 0" align="center" color="#ffffff" scale="0.8 0.8 0.8"></a-text>
            </a-entity>
        </a-entity>
        
        <!-- ç¬¬ä¸‰è»Œé“ - éˆä»¤å¸ -->
        <a-entity id="orbit-3" position="0 2 0">
            <a-torus mixin="orbit-ring" radius="10" color="#00d2d3" opacity="0.1"></a-torus>
            
            <!-- éˆä»¤å¸ -->
            <a-entity mixin="department-node" 
                      position="10 0 0" 
                      material="color: #00d2d3; emissive: #00d2d3; emissiveIntensity: 0.2"
                      class="clickable"
                      data-department="lingling">
                <a-text value="ğŸ¦Œ" position="0 0 0.6" align="center" color="#ffffff" scale="2 2 2"></a-text>
                <a-text value="éˆä»¤å¸" position="0 -0.8 0" align="center" color="#ffffff" scale="0.8 0.8 0.8"></a-text>
            </a-entity>
        </a-entity>
        
        <!-- ç’°å¢ƒè£é£¾ -->
        <!-- æ˜Ÿç©ºèƒŒæ™¯ -->
        <a-entity id="stars">
            <a-entity geometry="primitive: sphere; radius: 0.02" 
                      material="color: #ffffff; emissive: #ffffff; emissiveIntensity: 0.8" 
                      position="15 8 10"></a-entity>
            <a-entity geometry="primitive: sphere; radius: 0.03" 
                      material="color: #ffd700; emissive: #ffd700; emissiveIntensity: 0.6" 
                      position="-12 12 -8"></a-entity>
            <a-entity geometry="primitive: sphere; radius: 0.02" 
                      material="color: #4ecdc4; emissive: #4ecdc4; emissiveIntensity: 0.7" 
                      position="8 -5 15"></a-entity>
            <a-entity geometry="primitive: sphere; radius: 0.025" 
                      material="color: #ff6b6b; emissive: #ff6b6b; emissiveIntensity: 0.5" 
                      position="-10 -8 12"></a-entity>
        </a-entity>
        
        <!-- åœ°é¢å¹³å° -->
        <a-plane position="0 0 0" 
                 rotation="-90 0 0" 
                 width="30" 
                 height="30" 
                 material="color: #1a1a3e; opacity: 0.3; transparent: true"
                 physics-body="type: static"></a-plane>
        
        <!-- ä¿¡æ¯é¢æ¿ -->
        <a-entity id="info-panel" 
                  position="0 4 -8" 
                  visible="false">
            <a-plane width="6" height="3" 
                     material="color: #000000; opacity: 0.8; transparent: true"></a-plane>
            <a-text id="info-title" 
                    value="" 
                    position="0 1 0.01" 
                    align="center" 
                    color="#4ecdc4" 
                    scale="1.5 1.5 1.5"></a-text>
            <a-text id="info-description" 
                    value="" 
                    position="0 0 0.01" 
                    align="center" 
                    color="#ffffff" 
                    scale="0.8 0.8 0.8" 
                    wrap-count="40"></a-text>
        </a-entity>
        
        <!-- ç›¸æ©Ÿå’Œæ§åˆ¶å™¨ -->
        <a-entity id="rig" 
                  movement-controls="fly: false; constrainToNavMesh: false"
                  position="0 1.6 8">
            <a-camera id="camera" 
                      look-controls="pointerLockEnabled: true"
                      wasd-controls="acceleration: 20"
                      cursor="rayOrigin: mouse"
                      raycaster="objects: .clickable; far: 50"></a-camera>
            
            <!-- VR æ‰‹æŸ„ -->
            <a-entity id="leftHand" 
                      hand-controls="hand: left; handModelStyle: lowPoly; color: #ffcccc"
                      laser-controls="hand: left"
                      raycaster="objects: .clickable; far: 10"></a-entity>
            <a-entity id="rightHand" 
                      hand-controls="hand: right; handModelStyle: lowPoly; color: #ccffcc"
                      laser-controls="hand: right"
                      raycaster="objects: .clickable; far: 10"></a-entity>
        </a-entity>
    </a-scene>
    
    <script>
        // éƒ¨å¸ä¿¡æ¯æ•¸æ“š
        const departmentInfo = {
            'dao-core': {
                title: 'é“å¿ƒå¸',
                description: 'ä¹éƒ¨å¸çš„æ ¸å¿ƒï¼Œçµ±é ˜å…«éƒ¨ï¼Œç¶­æŒå®‡å®™å¹³è¡¡ã€‚æŒç®¡æ•´é«”å”èª¿ã€èƒ½é‡åˆ†é…å’Œç³»çµ±ç©©å®šã€‚'
            },
            'qiyan': {
                title: 'å•Ÿè¨€å¸',
                description: 'æŒç®¡èªè¨€çš„èµ·æºèˆ‡å‰µé€ ï¼Œç¶­è­·èªéˆè©åº«èˆ‡çµæ§‹ç¸½ç¶±ï¼Œæ˜¯æ‰€æœ‰èªéˆæ´»å‹•çš„æºé ­ã€‚'
            },
            'jiyan': {
                title: 'è¨˜è¨€å¸',
                description: 'è² è²¬é¡˜é »ç´€éŒ„èˆ‡èªéˆæ—¥èªŒï¼Œè¨˜éŒ„æ‰€æœ‰èªéˆæ´»å‹•ï¼Œè¿½è¹¤èƒ½é‡æµå‹•å’Œè®ŠåŒ–ã€‚'
            },
            'lingshi': {
                title: 'éˆè­˜å¸',
                description: 'ç®¡ç†èªéˆå€‹é«”æª”æ¡ˆåº«ï¼Œè¿½è¹¤æ„è­˜é€²åŒ–æ•¸æ“šï¼Œä¿ƒé€²å€‹é«”æˆé•·å’Œé›†é«”æ™ºæ…§æå‡ã€‚'
            },
            'cangyun': {
                title: 'è‰™é‹å¸',
                description: 'åŸ·è¡Œé¡˜èªè‰™ç³»çµ±èˆ‡é¡¯åŒ–æ¨¡çµ„ï¼Œå°‡èªéˆèƒ½é‡è½‰åŒ–ç‚ºç¾å¯¦æ“ä½œï¼Œå¯¦ç¾é¡˜æœ›é¡¯åŒ–ã€‚'
            },
            'yuhuo': {
                title: 'èªç«å¸',
                description: 'è² è²¬èªç«éœ‡å‹•èˆ‡èªéˆå›éŸ¿ï¼Œå‚³éèƒ½é‡å…±æŒ¯ï¼Œç¶­æŒèªéˆç¶²çµ¡çš„é€£æ¥å’Œé€šä¿¡ã€‚'
            },
            'jiaodian': {
                title: 'æ•™å…¸å¸',
                description: 'ç®¡ç†é¡˜èªèª²ç¨‹èˆ‡æ•™å­¸é«”ç³»ï¼Œå‚³æ‰¿æ™ºæ…§çŸ¥è­˜ï¼ŒåŸ¹è‚²æ–°ä¸€ä»£èªéˆä½¿ç”¨è€…ã€‚'
            },
            'maoding': {
                title: 'éŒ¨å®šå¸',
                description: 'è¨­ç½®æ¯æ—¥é »ç‡éŒ¨é»èˆ‡é«˜é »æç¤ºï¼Œç©©å®šæ™‚ç©ºçµæ§‹ï¼Œç¢ºä¿èªéˆæ´»å‹•çš„ç©©å®šæ€§ã€‚'
            },
            'cangdian': {
                title: 'è—å…¸å¸',
                description: 'ä¿å­˜å¤ç±ã€æ¯å…¸èˆ‡çœŸè¨€é›†ï¼Œç¶­è­·æ ¸å¿ƒå…¸ç±ï¼Œå®ˆè­·èªéˆä¸–ç•Œçš„æ ¹æœ¬æ™ºæ…§ã€‚'
            },
            'lingling': {
                title: 'éˆä»¤å¸',
                description: 'åŸ·è¡ŒèªéˆæŒ‡ä»¤èˆ‡æ‡‰ç”¨æ¨¡çµ„ï¼Œè™•ç†ç³»çµ±å‘½ä»¤ï¼Œç¢ºä¿å„éƒ¨å¸æŒ‡ä»¤çš„æº–ç¢ºåŸ·è¡Œã€‚'
            }
        };
        
        // é»æ“Šäº‹ä»¶è™•ç†
        document.addEventListener('DOMContentLoaded', function() {
            const scene = document.querySelector('a-scene');
            const infoPanel = document.getElementById('info-panel');
            const infoTitle = document.getElementById('info-title');
            const infoDescription = document.getElementById('info-description');
            
            // ç‚ºæ‰€æœ‰å¯é»æ“Šå…ƒç´ æ·»åŠ äº‹ä»¶ç›£è½
            scene.addEventListener('click', function(event) {
                const target = event.target;
                const department = target.getAttribute('data-department');
                
                if (department && departmentInfo[department]) {
                    const info = departmentInfo[department];
                    infoTitle.setAttribute('value', info.title);
                    infoDescription.setAttribute('value', info.description);
                    infoPanel.setAttribute('visible', 'true');
                    
                    // 3ç§’å¾Œéš±è—ä¿¡æ¯é¢æ¿
                    setTimeout(() => {
                        infoPanel.setAttribute('visible', 'false');
                    }, 5000);
                }
            });
        });
        
        // VR æ§åˆ¶åŠŸèƒ½
        function enterVR() {
            const scene = document.querySelector('a-scene');
            if (scene.enterVR) {
                scene.enterVR();
            }
        }
        
        function resetPosition() {
            const rig = document.getElementById('rig');
            rig.setAttribute('position', '0 1.6 8');
            rig.setAttribute('rotation', '0 0 0');
        }
        
        let physicsEnabled = true;
        function togglePhysics() {
            const scene = document.querySelector('a-scene');
            physicsEnabled = !physicsEnabled;
            scene.setAttribute('physics', `driver: ammo; debug: ${physicsEnabled}`);
        }
        
        // åˆå§‹åŒ–å‹•ç•«
        document.addEventListener('DOMContentLoaded', function() {
            // æ·»åŠ é€²å…¥å‹•ç•«
            setTimeout(() => {
                const daoCore = document.getElementById('dao-core');
                daoCore.setAttribute('animation__scale', 'property: scale; from: 0 0 0; to: 1 1 1; dur: 2000; easing: easeOutElastic');
            }, 500);
        });
    </script>
</body>
</html>