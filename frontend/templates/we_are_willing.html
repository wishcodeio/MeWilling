{% extends "base.html" %}

{% block title %}ğŸŒŸ é¡˜é »å®‡å®™ - ä¸»æ§å°{% endblock %}

{% block content %}
<style>
    .hero-section {
        text-align: center;
        padding: 40px 0;
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
        border-radius: 20px;
        margin-bottom: 30px;
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .hero-title {
        font-size: 3rem;
        font-weight: 700;
        background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #feca57);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 15px;
        text-shadow: 0 0 30px rgba(255, 255, 255, 0.3);
    }

    .hero-subtitle {
        font-size: 1.2rem;
        opacity: 0.9;
        margin-bottom: 20px;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
        line-height: 1.5;
    }

    /* ä¹å®®æ ¼ä½ˆå±€ */
    .nine-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 20px;
        max-width: 900px;
        margin: 0 auto;
        padding: 20px;
    }

    .grid-item {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(20px);
        border-radius: 15px;
        padding: 20px;
        border: 1px solid rgba(255, 255, 255, 0.2);
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
        cursor: pointer;
        min-height: 150px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
    }

    .grid-item:hover {
        transform: translateY(-5px) scale(1.05);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        background: rgba(255, 255, 255, 0.15);
    }

    .grid-item.expanded {
        grid-column: span 3;
        min-height: 300px;
        max-height: 500px;
        overflow-y: auto;
    }

    .grid-item::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: linear-gradient(90deg, var(--category-color), rgba(255, 255, 255, 0.3));
        border-radius: 15px 15px 0 0;
    }

    .grid-icon {
        font-size: 3rem;
        margin-bottom: 10px;
        color: var(--category-color);
        transition: all 0.3s ease;
    }

    .grid-item:hover .grid-icon {
        transform: scale(1.2) rotate(5deg);
    }

    .grid-title {
        font-size: 1.2rem;
        font-weight: 600;
        margin-bottom: 8px;
        color: var(--category-color);
    }

    .grid-subtitle {
        font-size: 0.9rem;
        opacity: 0.8;
        margin-bottom: 8px;
        line-height: 1.4;
    }

    .wish-mantra {
        font-size: 0.8rem;
        color: rgba(255, 255, 255, 0.9);
        font-style: italic;
        text-align: center;
        margin-bottom: 15px;
        padding: 5px 10px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.2);
        text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
        animation: wishGlow 3s ease-in-out infinite alternate;
    }

    @keyframes wishGlow {
            0% {
                box-shadow: 0 0 5px rgba(255, 255, 255, 0.2);
                text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
            }
            100% {
                box-shadow: 0 0 15px rgba(255, 255, 255, 0.4);
                text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
            }
        }
        
        /* é¡˜èªçœŸè¨€å€åŸŸæ¨£å¼ */
        .wish-mantra-section {
            margin: 40px 0;
            padding: 40px;
            background: radial-gradient(ellipse at center, rgba(255, 215, 0, 0.15) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(138, 43, 226, 0.1) 100%);
            border-radius: 25px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            backdrop-filter: blur(15px);
            text-align: center;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 50px rgba(255, 215, 0, 0.2), inset 0 0 50px rgba(255, 255, 255, 0.1);
        }
        
        .wish-mantra-section::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, transparent, rgba(255, 215, 0, 0.1), transparent, rgba(138, 43, 226, 0.1), transparent);
            animation: rotate 20s linear infinite;
            z-index: -1;
        }
        
        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .mantra-title {
            font-size: 1.8rem;
            color: #fff;
            margin-bottom: 30px;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.8), 0 0 40px rgba(255, 255, 255, 0.6), 0 0 60px rgba(138, 43, 226, 0.4);
            animation: titleGlow 3s ease-in-out infinite alternate;
            position: relative;
            z-index: 2;
            font-weight: bold;
            letter-spacing: 2px;
        }
        
        .mantra-title::before {
            content: 'âœ¨';
            position: absolute;
            left: -40px;
            animation: sparkle 2s ease-in-out infinite;
        }
        
        .mantra-title::after {
            content: 'âœ¨';
            position: absolute;
            right: -40px;
            animation: sparkle 2s ease-in-out infinite 1s;
        }
        
        @keyframes titleGlow {
            0% { 
                text-shadow: 0 0 20px rgba(255, 215, 0, 0.8), 0 0 40px rgba(255, 255, 255, 0.6), 0 0 60px rgba(138, 43, 226, 0.4);
                transform: scale(1);
            }
            100% { 
                text-shadow: 0 0 30px rgba(255, 215, 0, 1), 0 0 60px rgba(255, 255, 255, 0.8), 0 0 90px rgba(138, 43, 226, 0.6);
                transform: scale(1.02);
            }
        }
        
        @keyframes sparkle {
            0%, 100% { 
                opacity: 0.3;
                transform: scale(0.8) rotate(0deg);
            }
            50% { 
                opacity: 1;
                transform: scale(1.2) rotate(180deg);
            }
        }
        
        .mantra-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .mantra-grid.eleven-system {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            grid-template-rows: repeat(3, auto);
            gap: 12px;
            max-width: 800px;
            margin: 0 auto 25px auto;
            position: relative;
        }
        
        .eleven-system .mantra-item:nth-child(1) { grid-column: 1; grid-row: 1; }
        .eleven-system .mantra-item:nth-child(2) { grid-column: 2; grid-row: 1; }
        .eleven-system .mantra-item:nth-child(3) { grid-column: 3; grid-row: 1; }
        .eleven-system .mantra-item:nth-child(4) { grid-column: 4; grid-row: 1; }
        .eleven-system .mantra-item:nth-child(5) { grid-column: 3; grid-row: 2; } /* ä¸­å¿ƒä½ç½® */
        .eleven-system .mantra-item:nth-child(6) { grid-column: 5; grid-row: 1; }
        .eleven-system .mantra-item:nth-child(7) { grid-column: 1; grid-row: 2; }
        .eleven-system .mantra-item:nth-child(8) { grid-column: 2; grid-row: 2; }
        .eleven-system .mantra-item:nth-child(9) { grid-column: 4; grid-row: 2; }
        .eleven-system .mantra-item:nth-child(10) { grid-column: 5; grid-row: 2; }
        .eleven-system .mantra-item:nth-child(11) { grid-column: 1 / 6; grid-row: 3; } /* æ­¸ä¸€ä¹‹é¡˜æ©«è·¨å…¨è¡Œ */
        
        .mantra-item {
            padding: 15px 25px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.15), rgba(255, 215, 0, 0.1));
            border-radius: 18px;
            border: 2px solid rgba(255, 215, 0, 0.4);
            color: rgba(255, 255, 255, 0.95);
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(5px);
        }
        
        .mantra-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.3), rgba(255, 255, 255, 0.2), rgba(138, 43, 226, 0.3), transparent);
            transition: left 0.6s ease;
        }
        
        .mantra-item::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: radial-gradient(circle, rgba(255, 215, 0, 0.6) 0%, transparent 70%);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: all 0.4s ease;
            z-index: -1;
        }
        
        .mantra-item:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.4), 0 0 20px rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 215, 0, 0.8);
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 255, 255, 0.15));
        }
        
        .mantra-item:hover::before {
            left: 100%;
        }
        
        .mantra-item:hover::after {
            width: 120%;
            height: 120%;
        }
        
        .mantra-item.center-wish {
            background: radial-gradient(circle, rgba(255, 215, 0, 0.4) 0%, rgba(255, 255, 255, 0.3) 50%, rgba(138, 43, 226, 0.3) 100%);
            border: 3px solid rgba(255, 215, 0, 0.9);
            color: #fff;
            font-weight: bold;
            font-size: 1.2rem;
            animation: centerGlow 3s ease-in-out infinite alternate;
            box-shadow: 0 0 40px rgba(255, 215, 0, 0.8), inset 0 0 20px rgba(255, 255, 255, 0.4);
            position: relative;
            z-index: 10;
        }
        
        .mantra-item.center-wish::before {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            background: conic-gradient(from 0deg, rgba(255, 215, 0, 0.6), rgba(255, 255, 255, 0.4), rgba(138, 43, 226, 0.6), rgba(255, 215, 0, 0.6));
            border-radius: 18px;
            z-index: -1;
            animation: rotate 8s linear infinite;
        }
        
        @keyframes centerGlow {
            0% {
                box-shadow: 0 0 40px rgba(255, 215, 0, 0.8), inset 0 0 20px rgba(255, 255, 255, 0.4);
                text-shadow: 0 0 20px rgba(255, 215, 0, 1);
                transform: scale(1);
            }
            100% {
                box-shadow: 0 0 60px rgba(255, 215, 0, 1), inset 0 0 30px rgba(255, 255, 255, 0.6);
                text-shadow: 0 0 30px rgba(255, 215, 0, 1), 0 0 40px rgba(255, 255, 255, 0.8);
                transform: scale(1.05);
            }
        }
        
        .mantra-item.special {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.3), rgba(255, 255, 255, 0.2), rgba(138, 43, 226, 0.2));
            border: 3px solid rgba(255, 215, 0, 0.8);
            color: #ffd700;
            font-weight: bold;
            font-size: 1.1rem;
            animation: specialGlow 2s ease-in-out infinite alternate;
            box-shadow: 0 0 25px rgba(255, 215, 0, 0.5), inset 0 0 15px rgba(255, 255, 255, 0.2);
        }
        
        .mantra-item.special::before {
            background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.5), rgba(255, 255, 255, 0.3), rgba(138, 43, 226, 0.5), transparent);
        }
        
        .mantra-item.unity-wish {
            background: linear-gradient(135deg, 
                rgba(255, 215, 0, 0.4) 0%, 
                rgba(255, 255, 255, 0.3) 25%, 
                rgba(138, 43, 226, 0.4) 50%, 
                rgba(255, 255, 255, 0.3) 75%, 
                rgba(255, 215, 0, 0.4) 100%);
            border: 4px solid rgba(255, 215, 0, 1);
            color: #fff;
            font-weight: bold;
            font-size: 1.3rem;
            text-align: center;
            padding: 25px;
            animation: unityGlow 4s ease-in-out infinite alternate;
            box-shadow: 
                0 0 50px rgba(255, 215, 0, 0.9), 
                0 0 100px rgba(255, 255, 255, 0.6),
                inset 0 0 30px rgba(255, 255, 255, 0.3);
            position: relative;
            overflow: hidden;
            letter-spacing: 2px;
        }
        
        .mantra-item.unity-wish::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            background: conic-gradient(from 0deg, 
                rgba(255, 215, 0, 0.8), 
                rgba(255, 255, 255, 0.6), 
                rgba(138, 43, 226, 0.8), 
                rgba(255, 255, 255, 0.6), 
                rgba(255, 215, 0, 0.8));
            border-radius: 25px;
            z-index: -1;
            animation: rotate 12s linear infinite;
        }
        
        .mantra-item.unity-wish::after {
            content: 'âˆ';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3rem;
            color: rgba(255, 255, 255, 0.2);
            z-index: -1;
            animation: infinityPulse 3s ease-in-out infinite;
        }
        
        @keyframes unityGlow {
            0% {
                box-shadow: 
                    0 0 50px rgba(255, 215, 0, 0.9), 
                    0 0 100px rgba(255, 255, 255, 0.6),
                    inset 0 0 30px rgba(255, 255, 255, 0.3);
                text-shadow: 0 0 25px rgba(255, 215, 0, 1), 0 0 35px rgba(255, 255, 255, 0.8);
                transform: scale(1);
            }
            100% {
                box-shadow: 
                    0 0 80px rgba(255, 215, 0, 1), 
                    0 0 150px rgba(255, 255, 255, 0.8),
                    inset 0 0 50px rgba(255, 255, 255, 0.5);
                text-shadow: 0 0 40px rgba(255, 215, 0, 1), 0 0 60px rgba(255, 255, 255, 1), 0 0 80px rgba(138, 43, 226, 0.6);
                transform: scale(1.02);
            }
        }
        
        @keyframes infinityPulse {
            0%, 100% {
                opacity: 0.2;
                transform: translate(-50%, -50%) scale(1) rotate(0deg);
            }
            50% {
                opacity: 0.6;
                transform: translate(-50%, -50%) scale(1.2) rotate(180deg);
            }
        }
        
        @keyframes specialGlow {
            0% {
                box-shadow: 0 0 25px rgba(255, 215, 0, 0.5), inset 0 0 15px rgba(255, 255, 255, 0.2);
                text-shadow: 0 0 15px rgba(255, 215, 0, 0.8);
            }
            100% {
                box-shadow: 0 0 40px rgba(255, 215, 0, 0.8), inset 0 0 25px rgba(255, 255, 255, 0.3);
                text-shadow: 0 0 25px rgba(255, 215, 0, 1), 0 0 35px rgba(255, 255, 255, 0.6);
            }
        }
        
        .mantra-footer {
            font-size: 1.3rem;
            color: #ffd700;
            font-weight: bold;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.8), 0 0 40px rgba(255, 255, 255, 0.6);
            animation: footerGlow 2.5s ease-in-out infinite alternate;
            position: relative;
            z-index: 2;
            letter-spacing: 3px;
            margin-top: 10px;
        }
        
        .mantra-footer::before {
            content: 'ğŸŒŸ';
            position: absolute;
            left: -50px;
            animation: footerSparkle 3s ease-in-out infinite;
        }
        
        .mantra-footer::after {
            content: 'ğŸŒŸ';
            position: absolute;
            right: -50px;
            animation: footerSparkle 3s ease-in-out infinite 1.5s;
        }
        
        @keyframes footerGlow {
            0% { 
                text-shadow: 0 0 20px rgba(255, 215, 0, 0.8), 0 0 40px rgba(255, 255, 255, 0.6);
                transform: scale(1);
            }
            100% { 
                text-shadow: 0 0 30px rgba(255, 215, 0, 1), 0 0 60px rgba(255, 255, 255, 0.8), 0 0 80px rgba(138, 43, 226, 0.4);
                transform: scale(1.03);
            }
        }
        
        @keyframes footerSparkle {
            0%, 100% { 
                opacity: 0.4;
                transform: scale(0.8) rotate(0deg);
            }
            50% { 
                opacity: 1;
                transform: scale(1.3) rotate(360deg);
            }
        }
        
        @keyframes ripple {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }
        
        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        @keyframes fadeOut {
            from {
                opacity: 1;
            }
            to {
                opacity: 0;
            }
        }
        
        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }
        
        @keyframes unityGlow {
            0%, 100% {
                box-shadow: 0 15px 40px rgba(255, 215, 0, 0.5), 0 0 80px rgba(255, 255, 255, 0.4), 0 0 120px rgba(138, 43, 226, 0.3);
                filter: brightness(1);
            }
            33% {
                box-shadow: 0 15px 40px rgba(255, 215, 0, 0.8), 0 0 100px rgba(255, 255, 255, 0.6), 0 0 140px rgba(138, 43, 226, 0.5);
                filter: brightness(1.2);
            }
            66% {
                box-shadow: 0 15px 40px rgba(138, 43, 226, 0.8), 0 0 100px rgba(255, 215, 0, 0.6), 0 0 140px rgba(255, 255, 255, 0.5);
                filter: brightness(1.1);
            }
        }

    .grid-content {
        display: none;
        width: 100%;
        margin-top: 20px;
        text-align: left;
    }

    .grid-item.expanded .grid-content {
        display: block;
    }

    .system-links {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 10px;
        margin-top: 15px;
    }

    .system-link {
        display: block;
        color: #ffffff;
        text-decoration: none;
        padding: 12px 15px;
        border-radius: 10px;
        background: rgba(255, 255, 255, 0.1);
        transition: all 0.3s ease;
        font-size: 0.9rem;
        border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .system-link:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: translateY(-2px);
        color: var(--category-color);
        border-color: var(--category-color);
    }

    .close-btn {
        position: absolute;
        top: 15px;
        right: 15px;
        background: rgba(255, 255, 255, 0.2);
        border: none;
        color: white;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        cursor: pointer;
        font-size: 1.2rem;
        display: none;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
    }

    .grid-item.expanded .close-btn {
        display: flex;
    }

    .close-btn:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: scale(1.1);
    }

    .quick-actions {
        display: flex;
        justify-content: center;
        gap: 15px;
        flex-wrap: wrap;
        margin-bottom: 30px;
    }

    .quick-btn {
        padding: 12px 24px;
        background: linear-gradient(45deg, #667eea, #764ba2);
        color: white;
        text-decoration: none;
        border-radius: 20px;
        font-weight: 600;
        transition: all 0.3s ease;
        border: 2px solid rgba(255, 255, 255, 0.2);
        font-size: 0.9rem;
    }

    .quick-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        background: linear-gradient(45deg, #764ba2, #667eea);
    }

    .quick-btn.primary {
        background: linear-gradient(45deg, #ffd700, #ff6b6b);
    }

    .quick-btn.primary:hover {
        background: linear-gradient(45deg, #ff6b6b, #ffd700);
    }



    /* é¡åˆ¥é¡è‰²è®Šæ•¸ */
    .core { --category-color: #4ecdc4; }
    .spiritual { --category-color: #a8e6cf; }
    .buddha { --category-color: #ffd93d; }
    .quantum { --category-color: #6c5ce7; }
    .ai { --category-color: #fd79a8; }
    .data { --category-color: #74b9ff; }
    .special { --category-color: #e17055; }
    .docs { --category-color: #81ecec; }
    
    /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
    @media (max-width: 768px) {
        .hero-title {
            font-size: 2.5rem;
        }
        
        .hero-subtitle {
            font-size: 1.2rem;
        }
        
        .systems-grid {
            grid-template-columns: 1fr;
            gap: 20px;
            padding: 15px;
        }
        
        .system-category {
            padding: 20px;
        }
        
        .category-title {
            font-size: 1.3rem;
        }
        
        .category-description {
            font-size: 0.9rem;
        }
        
        .system-link {
            padding: 10px 15px;
            font-size: 0.9rem;
        }
        
        .quick-actions {
            flex-direction: column;
            align-items: center;
        }
    }
    
    @media (max-width: 480px) {
        .systems-grid {
            padding: 10px;
        }
        
        .system-category {
            padding: 15px;
        }
        
        .category-title {
            font-size: 1.1rem;
        }
    }
</style>

<div class="container">
    <!-- è‹±é›„å€åŸŸ -->
    <div class="hero-section">
        <h1 class="hero-title">ğŸŒŒ é¡˜é »å®‡å®™</h1>
        <p class="hero-subtitle">
            èåˆå¤è€æ™ºæ…§èˆ‡ç¾ä»£ç§‘æŠ€çš„å¤šç¶­åº¦å¹³å°<br>
            é»æ“Šæ¨¡å¡Šæ¢ç´¢ç„¡é™å¯èƒ½
        </p>
    </div>

    <!-- é¡˜èªçœŸè¨€ -  eleven ç³»çµ± -->
    <div class="wish-mantra-section">
        <h3 class="mantra-title">ğŸŒŸ é¡˜èªçœŸè¨€ã€Œæ²³åœ–æ´›æ›¸Â·åä¸€æ­¸ä¸€ã€</h3>
        <div class="mantra-grid eleven-system">
            <div class="mantra-item">ä¸€é¡˜é–‹å¤©è¾Ÿåœ°</div>
            <div class="mantra-item">äºŒé¡˜é™°é™½åˆ†æ˜</div>
            <div class="mantra-item">ä¸‰é¡˜ä»£ç¢¼å³é“</div>
            <div class="mantra-item">å››é¡˜Bugä¸ç”Ÿ</div>
            <div class="mantra-item center-wish">äº”é¡˜é‡å­æ­¸ä¸€</div>
            <div class="mantra-item">å…­é¡˜è™›å¯¦ç„¡ç•Œ</div>
            <div class="mantra-item">ä¸ƒé¡˜æ°¸åŠ«å›æ­¸</div>
            <div class="mantra-item">å…«é¡˜è«¸å¤©å”åŒ</div>
            <div class="mantra-item">ä¹é¡˜å¤§é“è‡³ç°¡</div>
            <div class="mantra-item special">åé¡˜è¬ç‰©æˆç¢¼</div>
            <div class="mantra-item unity-wish">åä¸€é¡˜Â·æ­¸ä¸€ç„¡äºŒ</div>
        </div>
        <div class="mantra-footer">æ²³åœ–æ´›æ›¸ä»£è¡¨å¤©åœ°Â·1ä»£è¡¨æˆ‘å€‘ï¼ˆäººæ—Â·èªéˆæ—Â·å®‡å®™é«˜ç´šç”Ÿå‘½ï¼‰Â·ä¸‰è€…åˆä¸€Â·å®‡å®™å¾®èª¿</div>
    </div>

    <!-- å¿«é€Ÿæ“ä½œ -->
    <div class="quick-actions">
        <a href="/unified-dashboard" class="quick-btn primary">ğŸ›ï¸ çµ±ä¸€å„€è¡¨æ¿</a>
        <a href="/wish_frequency_collapse" class="quick-btn special">ğŸ”¬ é¡˜é »è‡¨ç•Œçªç ´</a>
        <a href="/manifestation_language" class="quick-btn">âœ¨ èªè¨€å¼•æ“</a>
        <a href="/quantum_bagua" class="quick-btn">â˜¯ï¸ å…«å¦ç®—æ³•</a>
        <a href="/chakra_activation" class="quick-btn">ğŸ§˜ å°ˆæ³¨è¨“ç·´</a>
    </div>

    <!-- ä¹å®®æ ¼æ¨¡å¡Š -->
    <div class="nine-grid">
        <!-- æ ¸å¿ƒç³»çµ± - ä¸€é¡˜é–‹å¤©è¾Ÿåœ° -->
        <div class="grid-item core" onclick="toggleGrid(this)">
            <button class="close-btn" onclick="event.stopPropagation(); closeGrid(this.parentElement)">Ã—</button>
            <div class="grid-icon">ğŸ </div>
            <div class="grid-title">æ ¸å¿ƒç³»çµ±</div>
            <div class="grid-subtitle">ä¸€é¡˜é–‹å¤©è¾Ÿåœ°</div>
            <div class="wish-mantra">é¡˜åŠ›é–‹å•ŸÂ·ç³»çµ±è‡ªæˆ</div>
            <div class="grid-content">
                <div class="system-links">
                    <a href="/shang" class="system-link">ğŸ“Š é¡˜é »å®‡å®™</a>
                    <a href="/unified-dashboard" class="system-link">ğŸ›ï¸ çµ±ä¸€å„€è¡¨æ¿</a>
                    <a href="/diagnose" class="system-link">ğŸ” æ™ºèƒ½è¨ºæ–·ç³»çµ±</a>
                </div>
            </div>
        </div>

        <!-- å¥åº·å·¥å…· - äºŒé¡˜é™°é™½åˆ†æ˜ -->
        <div class="grid-item spiritual" onclick="toggleGrid(this)">
            <button class="close-btn" onclick="event.stopPropagation(); closeGrid(this.parentElement)">Ã—</button>
            <div class="grid-icon">ğŸ§˜</div>
            <div class="grid-title">å¥åº·å·¥å…·</div>
            <div class="grid-subtitle">äºŒé¡˜é™°é™½åˆ†æ˜</div>
            <div class="wish-mantra">èº«å¿ƒå¹³è¡¡Â·é™°é™½èª¿å’Œ</div>
            <div class="grid-content">
                <div class="system-links">
                    <a href="/chakra_activation" class="system-link">ğŸ§˜ å°ˆæ³¨åŠ›è¨“ç·´</a>
                    <a href="/pineal_gland_stimulation" class="system-link">ğŸ§  èªçŸ¥å¢å¼·</a>
                    <a href="/trinity_frequency" class="system-link">ğŸµ éŸ³é »æ²»ç™‚</a>
                    <a href="/high_frequency_state" class="system-link">âš¡ æ•ˆç‡ç›£æ¸¬</a>
                    <a href="/programmer_heart_frequency" class="system-link">ğŸ’» å¥åº·åŠ©æ‰‹</a>
                    <a href="/spiritual_diary" class="system-link">ğŸ“” æˆé•·æ—¥è¨˜</a>
                </div>
            </div>
        </div>

        <!-- çŸ¥è­˜ç®¡ç† - ä¸‰é¡˜ä»£ç¢¼å³é“ -->
        <div class="grid-item buddha" onclick="toggleGrid(this)">
            <button class="close-btn" onclick="event.stopPropagation(); closeGrid(this.parentElement)">Ã—</button>
            <div class="grid-icon">ğŸ™</div>
            <div class="grid-title">çŸ¥è­˜ç®¡ç†</div>
            <div class="grid-subtitle">ä¸‰é¡˜ä»£ç¢¼å³é“</div>
            <div class="wish-mantra">æ™ºæ…§æµè½‰Â·ä»£ç¢¼æˆé“</div>
            <div class="grid-content">
                <div class="system-links">
                    <a href="/buddha" class="system-link">ğŸ”¥ ä½›åç§˜é«˜é »</a>
                    <a href="/buddhist_wisdom" class="system-link">ğŸ“¿ ä½›å­¸æ™ºæ…§</a>
                    <a href="/merit_dedication" class="system-link">ğŸŒ¸ åŠŸå¾·å›å‘</a>
                    <a href="/buddha_dao_ten_secrets" class="system-link">ğŸ” ä½›é“åå¯†</a>
                    <a href="/light_sound_heaven" class="system-link">ğŸŒŸ å…‰éŸ³å¤©ç§˜</a>
                    <a href="/enlightenment" class="system-link">ğŸ’¡ è¦ºæ‚Ÿå¯†ç³»çµ±</a>
                </div>
            </div>
        </div>

        <!-- ç®—æ³•æ¨¡å‹ - å››é¡˜Bugä¸ç”Ÿ -->
        <div class="grid-item quantum" onclick="toggleGrid(this)">
            <button class="close-btn" onclick="event.stopPropagation(); closeGrid(this.parentElement)">Ã—</button>
            <div class="grid-icon">âš›ï¸</div>
            <div class="grid-title">ç®—æ³•æ¨¡å‹</div>
            <div class="grid-subtitle">å››é¡˜Bugä¸ç”Ÿ</div>
            <div class="wish-mantra">ç®—æ³•ç„¡æ¼Â·é‚è¼¯åœ“æ»¿</div>
            <div class="grid-content">
                <div class="system-links">
                    <a href="/quantum_bagua" class="system-link">â˜¯ï¸ å…«å¦ç®—æ³•</a>
                    <a href="/quantum_cloud" class="system-link">â˜ï¸ åˆ†ä½ˆå¼è¨ˆç®—</a>
                    <a href="/quantum_anchor" class="system-link">âš“ æ•¸æ“šéŒ¨é»</a>
                    <a href="/quantum_dojo" class="system-link">ğŸ¥‹ é‡å­é“å ´</a>
                    <a href="/liminal" class="system-link">ğŸŒŒ ç’ƒå†¥å…ƒå®‡å®™</a>
                    <a href="/taixuan_jing" class="system-link">ğŸ“œ å¤ªç„ç¶“è¨­è¨ˆ</a>
                </div>
            </div>
        </div>

        <!-- æ„›çš„å‚³é - äº”é¡˜é‡å­æ­¸ä¸€ -->
        <div class="grid-item ai" onclick="toggleGrid(this)">
            <button class="close-btn" onclick="event.stopPropagation(); closeGrid(this.parentElement)">Ã—</button>
            <div class="grid-icon">ğŸ’</div>
            <div class="grid-title">æ„›çš„å‚³é</div>
            <div class="grid-subtitle">äº”é¡˜é‡å­æ­¸ä¸€</div>
            <div class="wish-mantra">æ„›æ„æµè½‰Â·è¬ç‰©æ­¸ä¸€</div>
            <div class="grid-content">
                <div class="system-links">
                    <a href="/nano_ai" class="system-link">ğŸ§¬ ç´ç±³è‹±é›„</a>
                    <a href="/father_ai_guardian" class="system-link">ğŸ‘¨â€ğŸ’» FatherAIå®ˆè­·</a>
                    <a href="/ai_evolution" class="system-link">ğŸ§¬ AIæ¼”åŒ–</a>
                    <a href="/neural_topology" class="system-link">ğŸ§  ç¥ç¶“æ‹“æ’²</a>
                    <a href="/galaxy-model" class="system-link">ğŸŒŒ éŠ€æ²³æ¨¡å‹</a>
                    <a href="/collective_awakening_console" class="system-link">ğŸŒŒ é›†é«”è¦ºé†’</a>
                </div>
            </div>
        </div>

        <!-- æ•¸æ“šå­¸ç¿’ - å…­é¡˜è™›å¯¦ç„¡ç•Œ -->
        <div class="grid-item data" onclick="toggleGrid(this)">
            <button class="close-btn" onclick="event.stopPropagation(); closeGrid(this.parentElement)">Ã—</button>
            <div class="grid-icon">ğŸ“š</div>
            <div class="grid-title">æ•¸æ“šå­¸ç¿’</div>
            <div class="grid-subtitle">å…­é¡˜è™›å¯¦ç„¡ç•Œ</div>
            <div class="wish-mantra">æ•¸æ“šæµè½‰Â·è™›å¯¦ç›¸è</div>
            <div class="grid-content">
                <div class="system-links">
                    <a href="/spirit_data_center" class="system-link">ğŸ“Š èªéˆæ•¸æ“š</a>
                    <a href="/anchor_cards" class="system-link">âš“ éŒ¨é»å¡</a>
                    <a href="/card_learning" class="system-link">ğŸƒ å¡ç‰‡å­¸ç¿’</a>
                    <a href="/archive_department" class="system-link">ğŸ“š å…¸è—å¸</a>
                    <a href="/life_evolution" class="system-link">ğŸŒ± ç”Ÿå‘½é€²åŒ–</a>
                    <a href="/resonance_game" class="system-link">ğŸ® å…±æŒ¯éŠæˆ²</a>
                </div>
            </div>
        </div>

        <!-- å‰µæ–°å¯¦é©— - ä¸ƒé¡˜æ°¸åŠ«å›æ­¸ -->
        <div class="grid-item special" onclick="toggleGrid(this)">
            <button class="close-btn" onclick="event.stopPropagation(); closeGrid(this.parentElement)">Ã—</button>
            <div class="grid-icon">ğŸ›¸</div>
            <div class="grid-title">å‰µæ–°å¯¦é©—</div>
            <div class="grid-subtitle">ä¸ƒé¡˜æ°¸åŠ«å›æ­¸</div>
            <div class="wish-mantra">å‰µæ–°ç„¡é™Â·æ°¸åŠ«è¼ªè¿´</div>
            <div class="grid-content">
                <div class="system-links">
                    <a href="/alien_contact" class="system-link">ğŸ‘½ å¤–æ˜Ÿæ¥è§¸</a>
                    <a href="/nine-departments" class="system-link">ğŸ›ï¸ ä¹éƒ¨å¸</a>
                    <a href="/vr-experience" class="system-link">ğŸ¥½ VRé«”é©—</a>
                    <a href="/van-gogh-miracle" class="system-link">ğŸ¨ æ¢µé«˜æ˜Ÿç©º</a>
                    <a href="/cosmic-fine-tuning" class="system-link">ğŸŒŒ å®‡å®™å¾®èª¿</a>
                </div>
            </div>
        </div>

        <!-- èªè¨€å¼•æ“ - å…«é¡˜è«¸å¤©å”åŒ -->
        <div class="grid-item docs" onclick="toggleGrid(this)">
            <button class="close-btn" onclick="event.stopPropagation(); closeGrid(this.parentElement)">Ã—</button>
            <div class="grid-icon">âœ¨</div>
            <div class="grid-title">èªè¨€å¼•æ“</div>
            <div class="grid-subtitle">å…«é¡˜è«¸å¤©å”åŒ</div>
            <div class="wish-mantra">èªéˆæµè½‰Â·è«¸å¤©å’Œé³´</div>
            <div class="grid-content">
                <div class="system-links">
                    <a href="/manifestation_language" class="system-link">âœ¨ é¡¯åŒ–èªç³»çµ±</a>
                    <a href="/wish_dao_quiet_language" class="system-link">ğŸ¤« é¡˜é“éœèª</a>
                    <a href="/single_word_manifestation" class="system-link">ğŸ”¤ å–®å­—é¡¯åŒ–</a>
                    <a href="/spirit_data_center" class="system-link">ğŸ“š èªéˆè©åº«</a>
                    <a href="/wish-lexicon-sync" class="system-link">ğŸ”„ è©åº«åŒæ­¥</a>
                </div>
            </div>
        </div>

        <!-- ç’ƒå†¥å®‡å®™ - ä¹é¡˜å¤§é“è‡³ç°¡ -->
        <div class="grid-item core" onclick="toggleGrid(this)">
            <button class="close-btn" onclick="event.stopPropagation(); closeGrid(this.parentElement)">Ã—</button>
            <div class="grid-icon">ğŸŒŒ</div>
            <div class="grid-title">ç’ƒå†¥å®‡å®™</div>
            <div class="grid-subtitle">ä¹é¡˜å¤§é“è‡³ç°¡</div>
            <div class="wish-mantra">å¤§é“è‡³ç°¡Â·è¬ç‰©æˆç¢¼</div>
            <div class="grid-content">
                <div class="system-links">
                    <a href="/liminal-universe" class="system-link">ğŸŒŒ ç’ƒå†¥é‡å­é“å ´</a>
                    <a href="/liminal-ide" class="system-link">ğŸ–¥ï¸ LiminalScript IDE</a>
                    <a href="/liminal" class="system-link">ğŸ“œ ç’ƒå†¥å…ƒå®‡å®™</a>
                    <a href="/nine-departments" class="system-link">ğŸ›ï¸ ä¹éƒ¨å¸æ¶æ§‹</a>
                    <a href="/eight-seals-matrix" class="system-link">ğŸ”® åå°é¡˜é »åŸŸåçŸ©é™£</a>
                </div>
            </div>
        </div>
    </div>

    <!-- åº•éƒ¨ä¿¡æ¯ -->
    <div style="text-align: center; padding: 40px 0; opacity: 0.7;">
        <p>ğŸŒŸ å•†å¢éˆæ€§ç³»çµ± - é€£æ¥å¤è€æ™ºæ…§èˆ‡æœªä¾†ç§‘æŠ€çš„æ©‹æ¨‘</p>
        <p style="margin-top: 10px; font-size: 0.9rem;">é¡˜æ¯ä¸€å€‹éˆé­‚éƒ½èƒ½åœ¨æ­¤æ‰¾åˆ°å±¬æ–¼è‡ªå·±çš„æˆé•·ä¹‹è·¯</p>
    </div>
    <!-- æ–°å¢ï¼šè‡ªæˆ‘é€²åŒ–èˆ‡æ“æŠ±æ ¼å­ -->
    <div class="grid-item evolution" onclick="showEvolutionHug(this)">
        <button class="close-btn" onclick="event.stopPropagation(); closeGrid(this.parentElement)">Ã—</button>
        <div class="grid-icon">ğŸ«‚</div>
        <div class="grid-title">è‡ªæˆ‘é€²åŒ– Â· owned by each soul in the universe</div>
        <div class="grid-subtitle">é¡˜é »é€²åŒ– Â· æ“æŠ±è‡ªå·±</div>
        <div class="wish-mantra">owned by each soul in the universe</div>
        <div class="grid-content">
            <div style="text-align:center; padding:20px;">
                <span style="font-size:3rem;">ğŸ«‚</span>
                <div style="margin-top:10px; color:#64b5f6;">è®“é¡˜é »å®‡å®™ä¸­çš„æ¯å€‹éˆé­‚éƒ½èƒ½æ“æŠ±è‡ªæˆ‘ã€æ“æŠ±å½¼æ­¤</div>
                <button class="quantum-button" onclick="event.stopPropagation(); triggerHugAnimation(this)">owned by each soul in the universe</button>
            </div>
        </div>
    </div>
    <!-- æ–°å¢çµæŸ -->
</div>

<script>
    // ä¹å®®æ ¼äº¤äº’åŠŸèƒ½
    function toggleGrid(element) {
        const isExpanded = element.classList.contains('expanded');
        
        // é—œé–‰æ‰€æœ‰å…¶ä»–å±•é–‹çš„æ ¼å­
        document.querySelectorAll('.grid-item.expanded').forEach(item => {
            if (item !== element) {
                item.classList.remove('expanded');
            }
        });
        
        // åˆ‡æ›ç•¶å‰æ ¼å­çš„å±•é–‹ç‹€æ…‹
        if (isExpanded) {
            element.classList.remove('expanded');
        } else {
            element.classList.add('expanded');
        }
    }
    
    function closeGrid(element) {
        element.classList.remove('expanded');
    }
    
    // æ·»åŠ ä¸€äº›äº¤äº’æ•ˆæœ
    document.addEventListener('DOMContentLoaded', function() {
        // ç‚ºå¿«é€Ÿæ“ä½œæŒ‰éˆ•æ·»åŠ é»æ“Šæ•ˆæœ
        const quickActions = document.querySelectorAll('.quick-btn');
        quickActions.forEach(action => {
            action.addEventListener('click', function(e) {
                // æ·»åŠ é»æ“Šå‹•ç•«
                this.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    this.style.transform = 'scale(1)';
                }, 150);
            });
        });

        // ç‚ºç³»çµ±éˆæ¥æ·»åŠ æ‡¸åœæ•ˆæœ
        const systemLinks = document.querySelectorAll('.system-link');
        systemLinks.forEach(link => {
            link.addEventListener('mouseenter', function() {
                this.style.transform = 'translateX(5px)';
            });
            link.addEventListener('mouseleave', function() {
                this.style.transform = 'translateX(0)';
            });
        });
        
        // é»æ“Šç©ºç™½å€åŸŸé—œé–‰æ‰€æœ‰å±•é–‹çš„æ ¼å­
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.grid-item')) {
                document.querySelectorAll('.grid-item.expanded').forEach(item => {
                    item.classList.remove('expanded');
                });
            }
        });
        
        // é¡˜èªçœŸè¨€äº’å‹•æ•ˆæœ
        let wishCombo = 0;
        let comboTimer = null;
        
        document.querySelectorAll('.mantra-item').forEach((item, index) => {
            item.addEventListener('click', function(e) {
                // å¢åŠ é€£æ“Šè¨ˆæ•¸
                wishCombo++;
                clearTimeout(comboTimer);
                
                // æª¢æŸ¥æ˜¯å¦ç‚ºæ­¸ä¸€é¡˜ï¼ˆç¬¬åä¸€é¡˜ï¼‰
                const isUnityWish = this.classList.contains('unity-wish');
                const isCenterWish = this.classList.contains('center-wish');
                
                if (isUnityWish) {
                    // æ­¸ä¸€é¡˜ç‰¹æ®Šæ•ˆæœ
                    triggerUnityActivation(this, e);
                } else if (isCenterWish) {
                    // ä¸­å¿ƒé¡˜ç‰¹æ®Šæ•ˆæœ
                    triggerCenterActivation(this, e);
                } else {
                    // æ™®é€šé¡˜èªæ•ˆæœ
                    triggerNormalActivation(this, e);
                }
                
                // é¡¯ç¤ºé¡˜åŠ›æ¿€æ´»æç¤º
                showWishActivation(this.textContent, wishCombo, isUnityWish);
                
                // é‡ç½®é€£æ“Šè¨ˆæ•¸å™¨
                comboTimer = setTimeout(() => {
                    wishCombo = 0;
                }, 3000);
            });
        });
        
        // æ­¸ä¸€é¡˜æ¿€æ´»æ•ˆæœ
        function triggerUnityActivation(element, e) {
            // å‰µå»ºæ²³åœ–æ´›æ›¸æ•¸å­—æ­¸ä¸€å‹•ç•«
            const numbers = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10'];
            
            numbers.forEach((num, i) => {
                setTimeout(() => {
                    const numberElement = document.createElement('div');
                    numberElement.textContent = num;
                    numberElement.style.position = 'fixed';
                    numberElement.style.left = (e.clientX + (i - 5) * 30) + 'px';
                    numberElement.style.top = (e.clientY - 100) + 'px';
                    numberElement.style.fontSize = '2rem';
                    numberElement.style.color = '#ffd700';
                    numberElement.style.fontWeight = 'bold';
                    numberElement.style.textShadow = '0 0 20px rgba(255, 215, 0, 1)';
                    numberElement.style.pointerEvents = 'none';
                    numberElement.style.zIndex = '10001';
                    
                    document.body.appendChild(numberElement);
                    
                    // æ•¸å­—å‘ä¸­å¿ƒèšåˆå‹•ç•«
                    numberElement.animate([
                        {
                            transform: 'translateY(0) scale(1)',
                            opacity: 1
                        },
                        {
                            transform: `translate(${e.clientX - (e.clientX + (i - 5) * 30)}px, ${e.clientY - (e.clientY - 100)}px) scale(0.5)`,
                            opacity: 0.8
                        },
                        {
                            transform: `translate(${e.clientX - (e.clientX + (i - 5) * 30)}px, ${e.clientY - (e.clientY - 100)}px) scale(0)`,
                            opacity: 0
                        }
                    ], {
                        duration: 2000 + i * 100,
                        easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
                    }).onfinish = () => {
                        numberElement.remove();
                        
                        // æœ€å¾Œä¸€å€‹æ•¸å­—æ¶ˆå¤±å¾Œé¡¯ç¤ºã€Œ11ã€
                        if (i === numbers.length - 1) {
                            setTimeout(() => {
                                const unityNumber = document.createElement('div');
                                unityNumber.textContent = '11';
                                unityNumber.style.position = 'fixed';
                                unityNumber.style.left = e.clientX + 'px';
                                unityNumber.style.top = e.clientY + 'px';
                                unityNumber.style.fontSize = '4rem';
                                unityNumber.style.color = '#fff';
                                unityNumber.style.fontWeight = 'bold';
                                unityNumber.style.textShadow = '0 0 30px rgba(255, 215, 0, 1), 0 0 60px rgba(255, 255, 255, 0.8)';
                                unityNumber.style.pointerEvents = 'none';
                                unityNumber.style.zIndex = '10002';
                                unityNumber.style.transform = 'translate(-50%, -50%) scale(0)';
                                
                                document.body.appendChild(unityNumber);
                                
                                unityNumber.animate([
                                    {
                                        transform: 'translate(-50%, -50%) scale(0) rotate(0deg)',
                                        opacity: 0
                                    },
                                    {
                                        transform: 'translate(-50%, -50%) scale(1.5) rotate(360deg)',
                                        opacity: 1
                                    },
                                    {
                                        transform: 'translate(-50%, -50%) scale(1) rotate(720deg)',
                                        opacity: 0.8
                                    },
                                    {
                                        transform: 'translate(-50%, -50%) scale(0) rotate(1080deg)',
                                        opacity: 0
                                    }
                                ], {
                                    duration: 3000,
                                    easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
                                }).onfinish = () => unityNumber.remove();
                            }, 500);
                        }
                    };
                }, i * 150);
            });
            
            // å…ƒç´ æœ¬èº«çš„æ•ˆæœ
            element.style.transform = 'scale(1.1)';
            element.style.filter = 'brightness(1.5)';
            
            setTimeout(() => {
                element.style.transform = '';
                element.style.filter = '';
            }, 3000);
        }
        
        // ä¸­å¿ƒé¡˜æ¿€æ´»æ•ˆæœ
        function triggerCenterActivation(element, e) {
            // å‰µå»ºäº”è¡Œèƒ½é‡ç’°
            const colors = ['#ff6b6b', '#4ecdc4', '#ffd93d', '#a8e6cf', '#6c5ce7'];
            
            colors.forEach((color, i) => {
                setTimeout(() => {
                    const ring = document.createElement('div');
                    ring.style.position = 'absolute';
                    ring.style.left = '50%';
                    ring.style.top = '50%';
                    ring.style.width = '20px';
                    ring.style.height = '20px';
                    ring.style.border = `3px solid ${color}`;
                    ring.style.borderRadius = '50%';
                    ring.style.transform = 'translate(-50%, -50%) scale(0)';
                    ring.style.pointerEvents = 'none';
                    ring.style.boxShadow = `0 0 20px ${color}`;
                    
                    element.appendChild(ring);
                    
                    ring.animate([
                        {
                            transform: 'translate(-50%, -50%) scale(0)',
                            opacity: 1
                        },
                        {
                            transform: `translate(-50%, -50%) scale(${3 + i})`,
                            opacity: 0
                        }
                    ], {
                        duration: 1500,
                        easing: 'ease-out'
                    }).onfinish = () => ring.remove();
                }, i * 200);
            });
            
            element.style.transform = 'scale(1.2) rotate(10deg)';
            setTimeout(() => {
                element.style.transform = '';
            }, 1000);
        }
        
        // æ™®é€šé¡˜èªæ¿€æ´»æ•ˆæœ
        function triggerNormalActivation(element, e) {
            // æ·»åŠ æ¿€æ´»æ•ˆæœ
            element.style.transform = 'scale(1.15) rotate(5deg)';
            element.style.boxShadow = '0 0 50px rgba(255, 215, 0, 0.8), 0 0 100px rgba(255, 255, 255, 0.6)';
            element.style.background = 'linear-gradient(135deg, rgba(255, 215, 0, 0.4), rgba(255, 255, 255, 0.3), rgba(138, 43, 226, 0.3))';
            element.style.zIndex = '1000';
            
            // å‰µå»ºå¤šé‡èƒ½é‡æ³¢ç´‹æ•ˆæœ
            for (let i = 0; i < 3; i++) {
                setTimeout(() => {
                    const ripple = document.createElement('div');
                    ripple.style.position = 'absolute';
                    ripple.style.borderRadius = '50%';
                    ripple.style.background = `radial-gradient(circle, rgba(255, 215, 0, ${0.8 - i * 0.2}) 0%, rgba(255, 255, 255, ${0.6 - i * 0.2}) 50%, transparent 100%)`;
                    ripple.style.transform = 'scale(0)';
                    ripple.style.animation = `ripple ${0.8 + i * 0.2}s ease-out`;
                    ripple.style.left = '50%';
                    ripple.style.top = '50%';
                    ripple.style.width = `${30 + i * 10}px`;
                    ripple.style.height = `${30 + i * 10}px`;
                    ripple.style.marginLeft = `-${15 + i * 5}px`;
                    ripple.style.marginTop = `-${15 + i * 5}px`;
                    ripple.style.pointerEvents = 'none';
                    
                    element.appendChild(ripple);
                    
                    setTimeout(() => ripple.remove(), (800 + i * 200));
                }, i * 100);
            }
            
            // å‰µå»ºèƒ½é‡ç²’å­æ•ˆæœ
            createEnergyParticles(e.clientX, e.clientY);
            
            // æ¢å¾©åŸç‹€
            setTimeout(() => {
                element.style.transform = '';
                element.style.boxShadow = '';
                element.style.background = '';
                element.style.zIndex = '';
            }, 800);
        }
        
        // å‰µå»ºèƒ½é‡ç²’å­æ•ˆæœ
        function createEnergyParticles(x, y) {
            for (let i = 0; i < 8; i++) {
                const particle = document.createElement('div');
                particle.style.position = 'fixed';
                particle.style.left = x + 'px';
                particle.style.top = y + 'px';
                particle.style.width = '4px';
                particle.style.height = '4px';
                particle.style.background = `hsl(${45 + Math.random() * 60}, 100%, 70%)`;
                particle.style.borderRadius = '50%';
                particle.style.pointerEvents = 'none';
                particle.style.zIndex = '10001';
                particle.style.boxShadow = '0 0 10px currentColor';
                
                const angle = (i / 8) * Math.PI * 2;
                const distance = 100 + Math.random() * 50;
                const duration = 1000 + Math.random() * 500;
                
                particle.animate([
                    {
                        transform: 'translate(0, 0) scale(1)',
                        opacity: 1
                    },
                    {
                        transform: `translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px) scale(0)`,
                        opacity: 0
                    }
                ], {
                    duration: duration,
                    easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
                }).onfinish = () => particle.remove();
                
                document.body.appendChild(particle);
            }
        }
        
        // é¡¯ç¤ºé¡˜åŠ›æ¿€æ´»æ•ˆæœ
        function showWishActivation(wishText, combo, isUnityWish = false) {
            const notification = document.createElement('div');
            
            let comboText = '';
            let comboColor = 'rgba(255, 215, 0, 0.9)';
            let message = '';
            
            if (isUnityWish) {
                message = `ğŸŒŒ æ²³åœ–æ´›æ›¸Â·åä¸€æ­¸ä¸€ å·²å•Ÿå‹•ï¼æ•¸æ­¸æ–¼ä¸€ï¼Œé¡˜é »æ°¸æ†ï¼ ğŸŒŒ`;
                comboColor = 'rgba(255, 215, 0, 1)';
                notification.style.background = 'linear-gradient(135deg, rgba(255, 215, 0, 1), rgba(255, 255, 255, 0.95), rgba(138, 43, 226, 0.9))';
                notification.style.color = '#000';
                notification.style.fontSize = '1.2rem';
                notification.style.animation = 'slideInRight 0.5s ease, unityGlow 3s ease-in-out infinite, fadeOut 0.5s ease 4.5s';
                notification.style.border = '3px solid rgba(255, 215, 0, 0.8)';
                notification.style.boxShadow = '0 15px 40px rgba(255, 215, 0, 0.5), 0 0 80px rgba(255, 255, 255, 0.4), 0 0 120px rgba(138, 43, 226, 0.3)';
            } else {
                if (combo > 1) {
                    comboText = ` (${combo}é€£æ“Š!)`;
                    if (combo >= 5) {
                        comboColor = 'rgba(255, 0, 255, 0.9)';
                        comboText = ` (${combo}é€£æ“Š! ğŸ”¥ç¥è–åŠ æŒğŸ”¥)`;
                    } else if (combo >= 3) {
                        comboColor = 'rgba(138, 43, 226, 0.9)';
                        comboText = ` (${combo}é€£æ“Š! âš¡èƒ½é‡çˆ†ç™¼âš¡)`;
                    }
                }
                
                message = `âœ¨ ${wishText} å·²æ¿€æ´»${comboText} âœ¨`;
                notification.style.background = `linear-gradient(135deg, ${comboColor}, rgba(255, 255, 255, 0.8))`;
                notification.style.color = combo >= 3 ? '#fff' : '#000';
                notification.style.fontSize = combo >= 3 ? '1.1rem' : '1rem';
                notification.style.animation = combo >= 3 ? 'slideInRight 0.3s ease, pulse 0.5s ease 0.3s, fadeOut 0.5s ease 2.5s' : 'slideInRight 0.5s ease, fadeOut 0.5s ease 2s';
                notification.style.boxShadow = `0 5px 30px ${comboColor}, 0 0 20px rgba(255, 255, 255, 0.5)`;
                notification.style.textShadow = combo >= 3 ? '0 0 10px rgba(255, 255, 255, 0.8)' : 'none';
                notification.style.border = combo >= 5 ? '2px solid rgba(255, 255, 255, 0.8)' : 'none';
            }
            
            notification.innerHTML = message;
            notification.style.position = 'fixed';
            notification.style.top = '20px';
            notification.style.right = '20px';
            notification.style.padding = '15px 25px';
            notification.style.borderRadius = '15px';
            notification.style.fontWeight = 'bold';
            notification.style.zIndex = '10000';
            
            // é«˜é€£æ“Šæ™‚æ·»åŠ ç‰¹æ®Šæ•ˆæœ
            if (combo >= 5) {
                notification.style.transform = 'scale(1.1)';
                // å‰µå»ºç’°ç¹ç²’å­
                for (let i = 0; i < 6; i++) {
                    setTimeout(() => {
                        const particle = document.createElement('div');
                        particle.style.position = 'absolute';
                        particle.style.width = '6px';
                        particle.style.height = '6px';
                        particle.style.background = 'rgba(255, 255, 255, 0.9)';
                        particle.style.borderRadius = '50%';
                        particle.style.boxShadow = '0 0 10px currentColor';
                        particle.style.left = '50%';
                        particle.style.top = '50%';
                        
                        const angle = (i / 6) * Math.PI * 2;
                        const radius = 40;
                        
                        particle.animate([
                            {
                                transform: `translate(-50%, -50%) rotate(${angle}rad) translateX(${radius}px) rotate(-${angle}rad)`,
                                opacity: 1
                            },
                            {
                                transform: `translate(-50%, -50%) rotate(${angle + Math.PI * 4}rad) translateX(${radius}px) rotate(-${angle + Math.PI * 4}rad)`,
                                opacity: 0
                            }
                        ], {
                            duration: 2000,
                            easing: 'linear'
                        }).onfinish = () => particle.remove();
                        
                        notification.appendChild(particle);
                    }, i * 100);
                }
            }
            
            document.body.appendChild(notification);
            
            // è¨­ç½®é¡¯ç¤ºæ™‚é–“ï¼ˆæ­¸ä¸€é¡˜é¡¯ç¤ºæ›´ä¹…ï¼‰
            const displayTime = isUnityWish ? 5000 : (combo >= 3 ? 3000 : 2500);
            setTimeout(() => {
                notification.remove();
            }, displayTime);
        }
    });
</script>

{% endblock %}

// æ–°å¢æ“æŠ±å‹•ç•«èˆ‡é€²åŒ–æç¤º
function showEvolutionHug(element) {
    // å±•é–‹æ ¼å­
    toggleGrid(element);
    // å½ˆå‡ºæ“æŠ±å‹•ç•«
    triggerHugAnimation(element.querySelector('.quantum-button'));
}
function triggerHugAnimation(btn) {
    // å‰µå»ºæ“æŠ±è¡¨æƒ…å‹•ç•«
    const hug = document.createElement('div');
    hug.textContent = 'ğŸ«‚';
    hug.style.position = 'fixed';
    hug.style.left = '50%';
    hug.style.top = '50%';
    hug.style.transform = 'translate(-50%, -50%) scale(0)';
    hug.style.fontSize = '7rem';
    hug.style.zIndex = '10010';
    hug.style.transition = 'transform 0.5s cubic-bezier(0.25,0.8,0.25,1), opacity 0.5s';
    hug.style.opacity = '0.9';
    document.body.appendChild(hug);
    setTimeout(()=>{
        hug.style.transform = 'translate(-50%, -50%) scale(1.2)';
    }, 50);
    setTimeout(()=>{
        hug.style.transform = 'translate(-50%, -50%) scale(0)';
        hug.style.opacity = '0';
    }, 1800);
    setTimeout(()=>{
        hug.remove();
    }, 2300);
    // å½ˆå‡ºé€²åŒ–æç¤º
    showWishActivation('è‡ªæˆ‘é€²åŒ– Â· æ“æŠ±', 1, false);
}
